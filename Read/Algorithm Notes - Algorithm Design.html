
<!-- saved from url=(0056)http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html -->
<html lang="zh-Hant" class="translated-ltr"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="./Algorithm Notes - Algorithm Design_files/style.css">
<title>Algorithm Notes - Algorithm Design</title><link type="text/css" rel="stylesheet" charset="UTF-8" href="./Algorithm Notes - Algorithm Design_files/translateelement.css"></head><body>
<div class="a" id="1"><div class="h">
<p class="b">Incremental Method</p>
<p class="w">不積跬步，無以至千里。不積小流，無以成江海。《荀子》</p>
</div><div class="c">
<p class="t">Incremental Method</p>
<p>「遞增法」是符合電腦運作特性的方法。電腦執行程式，一次只做一個動作，完成了一件事才做下一件事。當一個問題太大太多時，化整為零、一個一個解決吧！</p>
<p>合抱之木，生於毫末；九層之臺，起於累土；千里之行，始於足下。謹以此句與大家共勉。</p>
<p class="t">範例：加總數字</p>
<p>無論電腦再怎麼強，還是得一個一個累加數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental1.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">summation</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"總和是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">summation</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：複製字串</p>
<p>無論電腦再怎麼強，還是得逐字複製。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental2.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">copy</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"incremental"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">t</span><span>[</span><span class="value">15</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;!=&nbsp;</span><span class="char">'\0'</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"原本字串"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"複製之後的字串"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">copy</span><span>(</span><span class="type">char</span><span>*&nbsp;</span><span class="word">s</span><span>,&nbsp;</span><span class="type">char</span><span>*&nbsp;</span><span class="word">t</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：選擇排序法（ Selection Sort ）</p>
<p>找到第一小的數字，放在第一個位置；再找到第二小的數字，放在第二個位置。一次找一個數字，如此下去就會把所有數字按照順序排好了。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">selection_sort</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;從尚未排序的數字當中，找到第i小的數字。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">min_index</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">i</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">j</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">min_index</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">min_index</span><span>&nbsp;=&nbsp;</span><span class="word">j</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;把第i小的數字，放在第i個位置。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">array</span><span>[</span><span class="word">min_index</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出排序結果。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">selection_sort</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;從尚未排序的數字當中，找到第i小的數字。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">min_index</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">i</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">j</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">min_index</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">min_index</span><span>&nbsp;=&nbsp;</span><span class="word">j</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;把第i小的數字，放在第i個位置。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">array</span><span>[</span><span class="word">min_index</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：印出直角三角形</p>
<p>多字成行，多行成直角三角形。由細微的東西開始，一件一件組起來。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental4.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;多字成行</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_line</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;n&nbsp;是一行的長度</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;多行成直角三角形</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_triangle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;n&nbsp;是行數</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>&gt;=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>--)&nbsp;</span><span class="word">print_line</span><span>(</span><span class="word">i</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/4/488.html">488</a> <a href="http://uva.onlinejudge.org/external/100/10038.html">10038</a> <a href="http://uva.onlinejudge.org/external/101/10107.html">10107</a> <a href="http://uva.onlinejudge.org/external/103/10370.html">10370</a></p>
<p class="t">範例：人潮最多的時段（ Interval Partitioning Problem ）</p>
<p>一群訪客參加宴會，我們詢問到每一位訪客的進場時刻與出場時刻，請問宴會現場擠進最多人的時段。</p>
<p>換個角度想，想像會場門口裝著一支監視器。有訪客進入，會場就多一人；有訪客離開，會場就少一人。如此就很容易統計會場人數。遞增的標的是時刻，而不是訪客。</p>
<p>【註：這個技巧在中文網路上暱稱為「離散化」。】</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Guest</span><span>&nbsp;{</span><span class="type">int</span><span>&nbsp;</span><span class="word">arrival</span><span>,&nbsp;</span><span class="word">leave</span><span>;}&nbsp;</span><span class="word">g</span><span>[</span><span class="value">10</span><span>];</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">cmp</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">abs</span><span>(</span><span class="word">i</span><span>)&nbsp;&lt;&nbsp;</span><span class="word">abs</span><span>(</span><span class="word">j</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">maximum_guest</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">time</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">time</span><span>.</span><span class="word">push_back</span><span>(+</span><span class="word">g</span><span>[</span><span class="word">i</span><span>].</span><span class="word">arrival</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">time</span><span>.</span><span class="word">push_back</span><span>(-</span><span class="word">g</span><span>[</span><span class="word">i</span><span>].</span><span class="word">leave</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">time</span><span>.</span><span class="word">begin</span><span>(),&nbsp;</span><span class="word">time</span><span>.</span><span class="word">end</span><span>(),&nbsp;</span><span class="word">cmp</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">maximum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">time</span><span>.</span><span class="word">size</span><span>();&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">time</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>--;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">maximum</span><span>&nbsp;=&nbsp;</span><span class="word">max</span><span>(</span><span class="word">maximum</span><span>,&nbsp;</span><span class="word">n</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"人潮最多的時段有"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">maximum</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"人"</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>此處僅找出人數。找出人潮最多的時段，就留給各位自行嘗試吧。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/6/688.html">688</a> <a href="http://uva.onlinejudge.org/external/9/972.html">972</a> <a href="http://uva.onlinejudge.org/external/106/10613.html">10613</a> <a href="http://uva.onlinejudge.org/external/105/10585.html">10585</a> <a href="http://uva.onlinejudge.org/external/109/10963.html">10963</a></p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/3/308.html">308</a> <a href="http://uva.onlinejudge.org/external/8/837.html">837</a></p>
<p class="t">範例：儲存座標</p>
<p>遞增的標的，主為點，次為座標軸。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Point</span><span>&nbsp;{</span><span class="type">float</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>;}&nbsp;</span><span class="word">p</span><span>[</span><span class="value">5</span><span>]&nbsp;=</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">0</span><span>,&nbsp;</span><span class="value">1</span><span>},&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">2</span><span>},&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">0</span><span>},&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">2</span><span>},&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">1</span><span>}</span></li><li><span>};</span></li></ol></div>
<p>遞增的標的，主為座標軸，次為點。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental7.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">float</span><span>&nbsp;</span><span class="word">x</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">0</span><span>,&nbsp;</span><span class="value">1</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">3</span><span>};</span></li><li><span class="type">float</span><span>&nbsp;</span><span class="word">y</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li></ol></div>
<p class="t">範例：印出轉換成小寫的字串</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental8.png">
<p>有需要改變的，只有大寫字母 ── 如果是大寫字母，就轉換成小寫字母並且印出；如果不是大寫字母，就直接印出。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_lowercase</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'A'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'Z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;(</span><span class="type">char</span><span>)(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'A'</span><span>&nbsp;+&nbsp;</span><span class="char">'a'</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>}</span></li></ol></div>
<p>也可以一步一步進行：（一）複製一份字串（二）字串統一換成小寫（三）印出字串。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_lowercase</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">t</span><span>[</span><span class="value">15</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第一波：複製字串</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第二波：換成小寫</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'A'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'Z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'A'</span><span>&nbsp;+&nbsp;</span><span class="char">'a'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第三波：印出字串</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_lowercase</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">t</span><span>[</span><span class="value">15</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;每一波的程式碼可以自行包裝成為函式，</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;亦可套用內建函式庫。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">my_copy</span><span>(</span><span class="word">s</span><span>,&nbsp;</span><span class="word">t</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;複製字串</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">my_lowercase</span><span>(</span><span class="word">t</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;換成小寫</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出字串</span></li><li><span>}</span></li></ol></div>
<p>第一種解法稱作 one-pass ，資料只會讀取一遍。讀取資料的同時，也一口氣處理掉所有事情。</p>
<p>第二種解法稱作 multi-pass ，資料會重複讀取許多遍。所有事情劃分成數個階段，逐步處理，每個階段只專心處理一件事情。</p>
<p>one-pass 的優點是：程式碼簡短、執行時間也短。缺點是：程式碼不易編修。</p>
<p>multi-pass 的優點是：程式碼一目了然，容易編修、測試、除錯；程式碼可以包裝成為函式，也有機會套用內建函式庫。缺點是：需要額外的暫存記憶體。</p>
<p>這兩種方式各有利弊。程式員必須自行取捨。</p>
<p class="t">範例：對調數字</p>
<p>利用一個變數，暫存其中一個數字，以便對調。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental9.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">swap_int</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">b</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;交換a與b</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">a</span><span>&nbsp;=&nbsp;</span><span class="word">b</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">b</span><span>&nbsp;=&nbsp;</span><span class="word">temp</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">a</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'&nbsp;'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">b</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">swap_int</span><span>(</span><span class="type">int</span><span>&amp;&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="type">int</span><span>&amp;&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">a</span><span>&nbsp;=&nbsp;</span><span class="word">b</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">b</span><span>&nbsp;=&nbsp;</span><span class="word">temp</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：對調陣列</p>
<p>節省記憶體的方法：採用遞增法，逐一對調數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental10.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">swap_int_array</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;one-pass</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">a</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">b</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">b</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">temp</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>浪費記憶體的方法：建立一條陣列，暫存其中一條陣列。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Incremental11.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">swap_int_array</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;multi-pass</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>[</span><span class="value">5</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">temp</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">a</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">a</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">b</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">b</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">temp</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">swap_int_array</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;multi-pass</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>[</span><span class="value">5</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">my_copy</span><span>(</span><span class="word">a</span><span>,&nbsp;</span><span class="word">temp</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">my_copy</span><span>(</span><span class="word">b</span><span>,&nbsp;</span><span class="word">a</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">my_copy</span><span>(</span><span class="word">temp</span><span>,&nbsp;</span><span class="word">b</span><span>);</span></li><li><span>}</span></li></ol></div>

</div></div><div class="a" id="2"><div class="h">
<p class="b">Memoization</p>
<p class="w">惟事事，乃其有備，有備無患。《書經》</p>
</div><div class="c">
<p class="t">Memoization</p>
<p>「記憶法」是符合電腦運作特性的方法。電腦擁有大量儲存空間。只要將計算過的數值，儲存於記憶體，往後就能直接使用記憶體儲存的資料，不必再浪費時間重複計算一遍。</p>
<pre>Memoization（Tabulation）
演算法執行過程之中，即時更新數值，儲存於記憶體。
例如堆疊的大小。

Preprocessing（Precalculation）
演算法開始之時，預先計算數值，儲存於記憶體。
例如圓周率、字串的長度、質數的表格。
</pre>
<p>如果要儲存大量的、同性質的數值，我們可以將這些數值整理成一個表格（通常是陣列），以方便查閱 ── 稱作「查詢表 lookup table 」。例如質數表便是一個「查詢表」。</p>
<p class="t">範例：陣列大小</p>
<p>使用一個變數，記錄資料數量，以便迅速地增加資料。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization1.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">array_size</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">100</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;使用一個變數，記錄資料數量。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">n</span><span>++]&nbsp;=&nbsp;</span><span class="value">3</span><span>;&nbsp;</span><span class="comment">//&nbsp;以便迅速地增加資料。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">n</span><span>++]&nbsp;=&nbsp;</span><span class="value">6</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">n</span><span>++]&nbsp;=&nbsp;</span><span class="value">9</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>C++ 程式語言的標準函式庫的 stack ，事實上也額外隱含了一個變數，記錄資料數量。當堆疊塞入資料、彈出資料的時候，也就是呼叫 push 函式、呼叫 pop 函式的時候，就默默更新資料數量。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">stack_size</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">stack</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">s</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;C++&nbsp;STL&nbsp;&lt;stack&gt;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">push</span><span>(</span><span class="value">1</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;默默地n++</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">pop</span><span>();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;默默地--n</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">size</span><span>();&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;把n印出來</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：加總數字</p>
<p>利用一個變數，累計數字的總和。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization2.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">summation</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"總和是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">summation</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：統計字母數量</p>
<p>建立 26 格的陣列，讓字母 a 到 z 依序對應陣列的每一格，作為 lookup table 。一邊讀取字串，一邊累計字母出現次數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_letter_frequency</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">26</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;字母一律換成小寫</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'A'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'Z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'A'</span><span>&nbsp;+&nbsp;</span><span class="char">'a'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;統計字母數量</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'a'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'a'</span><span>]++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出統計結果</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">26</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="type">char</span><span>(</span><span class="char">'a'</span><span>+</span><span class="word">i</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/102/10260.html">10260</a> <a href="http://uva.onlinejudge.org/external/100/10082.html">10082</a> <a href="http://uva.onlinejudge.org/external/102/10222.html">10222</a> <a href="http://uva.onlinejudge.org/external/126/12626.html">12626</a></p>
<p class="t">範例：統計數字數量</p>
<p>當數字範圍太大，無法建立那麼大的陣列，可以改用 hash table 、 binary search tree 等等資料結構作為 lookup table 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization4.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">histogram</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">10</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">1</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">4</span><span>,&nbsp;</span><span class="value">10</span><span>,&nbsp;</span><span class="value">11</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">1000000000</span><span>,&nbsp;</span><span class="value">23</span><span>,&nbsp;</span><span class="value">99</span><span>,&nbsp;</span><span class="value">123</span><span>,&nbsp;</span><span class="value">514</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li><span class="comment">//&nbsp;&nbsp;int&nbsp;c[1000000000]&nbsp;=&nbsp;{};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map</span><span>&lt;</span><span class="type">int</span><span>,&nbsp;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">c</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;binary&nbsp;search&nbsp;tree</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;統計數字數量</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]]++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出統計結果</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">auto</span><span>&nbsp;</span><span class="word">i</span><span>:&nbsp;</span><span class="word">c</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>.</span><span class="word">first</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>.</span><span class="word">second</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/115/11572.html">11572</a> <a href="http://uva.onlinejudge.org/external/1/141.html">141</a></p>
<p class="t">範例：計數排序法（ Counting Sort ）</p>
<p>建立足夠長的陣列，讓數字對應陣列的每一格，作為 lookup table 。統計每個數字的出現次數。由小到大讀取 lookup table ，順便排序數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">counting_sort</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">9</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;統計數字數量</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]]++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;由小到大讀取lookup&nbsp;table，順便排序數字。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>,&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">10</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">c</span><span>[</span><span class="word">j</span><span>]&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">j</span><span>]--;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>++]&nbsp;=&nbsp;</span><span class="word">j</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：求 1 到 n 的全部整數的立方和， n 的範圍由 1 到 10 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization6.png">
<p>以直接的方式，累加每個立方數。（儘管這個問題有公式解，但是為了方便舉例，所以這裡不採用公式解。）</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sum_of_cubes</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">n</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="word">n</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>使用 Memoization 。建立 11 格的陣列，每一格依序對應 0 到 10 的立方數，作為 lookup table 。一旦計算完畢，就儲存至表格；往後就直接讀取表格，不需重複計算。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;其值為&nbsp;0&nbsp;表示沒有存入答案</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">answer</span><span>[</span><span class="value">10</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;如果已經計算過，就直接讀取表格的答案。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">answer</span><span>[</span><span class="word">n</span><span>]&nbsp;!=&nbsp;</span><span class="value">0</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">answer</span><span>[</span><span class="word">n</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;如果不曾計算過，就計算一遍，儲存答案。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">answer</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sum_of_cubes</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">n</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="word">n</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>使用 Preprocessing 。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sum_of_cubes</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;預先建立立方數表格</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">cube</span><span>[</span><span class="value">10</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cube</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">n</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;直接讀取表格的立方數</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">cube</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>Preprocessing 當然也可以直接算答案啦。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sum_of_cubes</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;預先計算所有答案</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">answer</span><span>[</span><span class="value">10</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">answer</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">sum_of_cubes</span><span>(</span><span class="word">i</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;直接讀取表格的答案</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">n</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">answer</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>}</span></li></ol></div>
<p>最後是 Preprocessing 的極致。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_sum_of_cubes</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;預先計算答案，寫死在程式碼裡面。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">answer</span><span>[</span><span class="value">10</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="value">1</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;</span><span class="value">36</span><span>,&nbsp;</span><span class="value">100</span><span>,&nbsp;</span><span class="value">225</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">441</span><span>,&nbsp;</span><span class="value">784</span><span>,&nbsp;</span><span class="value">1296</span><span>,&nbsp;</span><span class="value">2025</span><span>,&nbsp;</span><span class="value">3025</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;直接讀取表格的答案</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">cin</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">n</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">answer</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/107/10738.html">10738</a> <a href="http://uva.onlinejudge.org/external/108/10894.html">10894</a></p>
<p class="t">範例：印出方框</p>
<p>建立二維陣列：陣列的格子，依序對應視窗的文字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization7.png">
<p>不直接印出方框，而是間接填至陣列。不必數空白鍵，只需兩條水平線和兩條垂直線。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print_square_border</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;建立記憶體</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>][</span><span class="value">5</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;預先填入空白鍵</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="char">'&nbsp;'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;填入方框：兩條水平線、兩條垂直線</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;即便相互重疊也無所謂</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">array</span><span>[</span><span class="value">0</span><span>][</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">array</span><span>[</span><span class="value">4</span><span>][</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="value">0</span><span>]&nbsp;=&nbsp;</span><span class="char">'@'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="value">4</span><span>]&nbsp;=&nbsp;</span><span class="char">'@'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出方框</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/105.html">105</a> <a href="http://uva.onlinejudge.org/external/7/706.html">706</a></p>
<p class="t">範例：拆開迴圈（ Loop Unrolling ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memoization8.png">
<p>迴圈語法的功能是：一段指令，重覆實施數次，但是每次都稍微變動一點點。</p>
<p>事實上，我們可以反璞歸真，拆開迴圈，還原成數行指令。如此一來，就節省了迴圈每次累加變數的時間，也節省了迴圈每次判斷結束條件的時間。</p>
<p>拆開迴圈是一種 Preprocessing ，預先計算迴圈變量、預先計算迴圈結束條件。</p>
<p>拆開迴圈之後，雖然提高了程式的執行速度，但是降低了程式可讀性。程式員必須自行取捨。</p>

</div></div><div class="a" id="3"><div class="h">
<p class="b">Enumeration</p>
<p class="w">愚者千慮，必有一得。《史記》</p>
</div><div class="c">
<p class="t">Enumeration</p>
<p>「枚舉法」利用了電腦無與倫比的計算速度。找到不確定的變數，枚舉所有可能性，逐一判斷正確性。</p>
<pre>Enumerate
一筆一筆列出所有資料。
對應到程式語言的for。

Search
瀏覽所有資料，找出需要的部份。
對應到程式語言的for加if。
</pre>
<p>收集充分資訊，就能解決問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration1.png">
<p class="t">範例：枚舉一百個平方數</p>
<p>採用直接法：依序枚舉數字 1 到 100 ；枚舉過程當中，將數字平方得到平方數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration2.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">generate_squares</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="value">100</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>*</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"是平方數"</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>採用試誤法：依序枚舉數字 1 到 ∞ ；枚舉過程當中，判斷數字是不是平方數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">generate_squares</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="value">100</span><span>*</span><span class="value">100</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sqrt_i</span><span>&nbsp;=&nbsp;</span><span class="word">sqrt</span><span>(</span><span class="word">i</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sqrt_i</span><span>&nbsp;*&nbsp;</span><span class="word">sqrt_i</span><span>&nbsp;==&nbsp;</span><span class="word">i</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"是平方數"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：尋找陣列裡的最小值</p>
<p>由小到大枚舉陣列索引值，逐一比較陣列元素。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration4.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_minimum</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;枚舉索引值</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">min</span><span>)&nbsp;</span><span class="comment">//&nbsp;比較元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="comment">//&nbsp;隨時記錄最小值</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"最小的數字是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">min</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">find_minimum</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;枚舉索引值</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">min</span><span>)&nbsp;</span><span class="comment">//&nbsp;比較元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="comment">//&nbsp;隨時記錄最小值</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">min</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：尋找陣列裡的特定數字</p>
<p>找到所有特定數字：瀏覽一遍所有數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_all_number</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;枚舉</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;==&nbsp;</span><span class="value">6</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;搜尋</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>找到其中一個特定數字：一旦找到，立即停止瀏覽，以節省時間。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_number</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;枚舉</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;==&nbsp;</span><span class="value">6</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;搜尋</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">break</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">find_number</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;==&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：尋找二維陣列裡的特定數字</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration7.png">
<p>多個元素成為一個橫條、多個橫條成為一個陣列。內層先枚舉元素，外層再枚舉橫條，就能枚舉所有元素。</p>
<p>方才是由內而外、由小到大進行思考，其實也可以由外而內、由大到小進行思考：外層先枚舉每一個橫條，內層再枚舉一個橫條的每一個元素，就能枚舉所有元素。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">bool</span><span>&nbsp;</span><span class="word">find_number</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">3</span><span>][</span><span class="value">5</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">4</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">10</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">11</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">5</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">2</span><span>}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;外層枚舉每一個橫條</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">3</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;內層枚舉一個橫條的每一個元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;就能枚舉所有元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>]&nbsp;==&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>此處再介紹一種特別的思考方式：第一層枚舉每一個橫條，第二層枚舉每一個直條，就能枚舉所有直條與橫條的交錯之處。</p>
<p>雖然前後兩個思考方式完全不同，但是前後兩支程式碼卻完全相同。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">bool</span><span>&nbsp;</span><span class="word">find_number</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">3</span><span>][</span><span class="value">5</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">4</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">8</span><span>,&nbsp;</span><span class="value">0</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">7</span><span>,&nbsp;</span><span class="value">5</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">1</span><span>}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第一層枚舉每一個橫條</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">3</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第二層枚舉每一個直條</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;就能枚舉所有橫條與直條交錯之處</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>]&nbsp;==&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：平面上距離最近的兩個點（ Closest Pair ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration8.png">
<p>第一層枚舉第一個點，第二層枚舉第二個點。為了避免重複枚舉相同的一對點，第二層只枚舉索引值更高的點。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">closest_pair</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">point</span><span>[</span><span class="value">10</span><span>][</span><span class="value">2</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">3</span><span>},&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">4</span><span>,&nbsp;</span><span class="value">6</span><span>},&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">8</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">9</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">1</span><span>},&nbsp;{</span><span class="value">7</span><span>,&nbsp;</span><span class="value">2</span><span>},&nbsp;{</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">4</span><span>},&nbsp;{</span><span class="value">5</span><span>,&nbsp;</span><span class="value">9</span><span>}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;距離最近的兩個點的距離</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="value">1e9</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉第一點</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉第二點</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">i</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;計算第一點到第二點的距離</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dx</span><span>&nbsp;=&nbsp;</span><span class="word">point</span><span>[</span><span class="word">i</span><span>][</span><span class="value">0</span><span>]&nbsp;-&nbsp;</span><span class="word">point</span><span>[</span><span class="word">j</span><span>][</span><span class="value">0</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dy</span><span>&nbsp;=&nbsp;</span><span class="word">point</span><span>[</span><span class="word">i</span><span>][</span><span class="value">1</span><span>]&nbsp;-&nbsp;</span><span class="word">point</span><span>[</span><span class="word">j</span><span>][</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dij</span><span>&nbsp;=&nbsp;</span><span class="word">sqrt</span><span>(</span><span class="word">dx</span><span>&nbsp;*&nbsp;</span><span class="word">dx</span><span>&nbsp;+&nbsp;</span><span class="word">dy</span><span>&nbsp;*&nbsp;</span><span class="word">dy</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;記錄最短的距離</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">dij</span><span>&nbsp;&lt;&nbsp;</span><span class="word">d</span><span>)&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="word">dij</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"距離是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">d</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>可以把計算距離的程式碼，抽離出來成為一個函式。好處是程式碼變得清爽許多，增加程式碼可讀性。壞處是大量呼叫函式，導致執行速度變慢。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Point</span><span>&nbsp;{</span><span class="type">float</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>;};</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;計算兩點之間的距離</span></li><li><span class="type">float</span><span>&nbsp;</span><span class="word">dist</span><span>(</span><span class="word">Point</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="word">Point</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dx</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>.</span><span class="word">x</span><span>&nbsp;-&nbsp;</span><span class="word">b</span><span>.</span><span class="word">x</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dy</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>.</span><span class="word">y</span><span>&nbsp;-&nbsp;</span><span class="word">b</span><span>.</span><span class="word">y</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sqrt</span><span>(</span><span class="word">dx</span><span>&nbsp;*&nbsp;</span><span class="word">dx</span><span>&nbsp;+&nbsp;</span><span class="word">dy</span><span>&nbsp;*&nbsp;</span><span class="word">dy</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">closest_pair</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">Point</span><span>&nbsp;</span><span class="word">point</span><span>[</span><span class="value">10</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">3</span><span>},&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">4</span><span>,&nbsp;</span><span class="value">6</span><span>},&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">8</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">9</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">1</span><span>},&nbsp;{</span><span class="value">7</span><span>,&nbsp;</span><span class="value">2</span><span>},&nbsp;{</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">4</span><span>},&nbsp;{</span><span class="value">5</span><span>,&nbsp;</span><span class="value">9</span><span>}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="value">1e9</span><span>;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">i</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;記錄最短的距離</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">d</span><span>,&nbsp;</span><span class="word">dist</span><span>(</span><span class="word">point</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">point</span><span>[</span><span class="word">j</span><span>]));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"距離是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">d</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>魚與熊掌不可兼得，這兩種程式碼各有優缺點，沒有絕對的好壞。程式員必須自行取捨。</p>
<p class="t">範例：字串搜尋（ String Searching ）</p>
<p>從長字串之中，找到短字串的出現位置。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration9.png">
<p>第一層先枚舉所有可以對齊的位置，第二層再枚舉所有需要對齊的字元。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">string_searching</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">text</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"It's&nbsp;a&nbsp;pencil."</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">pattern</span><span>[</span><span class="value">6</span><span>]&nbsp;=&nbsp;</span><span class="string">"a&nbsp;pen"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉所有可以對齊的位置</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">14</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉所有需要對齊的字元</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">find</span><span>&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">text</span><span>[</span><span class="word">i</span><span>+</span><span class="word">j</span><span>]&nbsp;!=&nbsp;</span><span class="word">pattern</span><span>[</span><span class="word">j</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">find</span><span>&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">find</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"短字串出現在第"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"個字元"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>因為短字串不會超出長字串末段，所以第一層枚舉範圍可以再略微縮小。</p>
<p>因為只要一個相異字元，就足以表明對齊位置錯誤，所以第二層的枚舉過程可以提早結束。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">string_searching</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">text</span><span>[</span><span class="value">14</span><span>]&nbsp;=&nbsp;</span><span class="string">"It's&nbsp;a&nbsp;pencil."</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">pattern</span><span>[</span><span class="value">6</span><span>]&nbsp;=&nbsp;</span><span class="string">"a&nbsp;pen"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;仔細估量枚舉範圍</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">14</span><span>-</span><span class="value">6</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">find</span><span>&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">text</span><span>[</span><span class="word">i</span><span>+</span><span class="word">j</span><span>]&nbsp;!=&nbsp;</span><span class="word">pattern</span><span>[</span><span class="word">j</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">find</span><span>&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">break</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">find</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"短字串出現在第"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"個字元"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：統計字母數量</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration10.png">
<p>第一層先枚舉 26 種英文字母，第二層再枚舉字串的所有字元，計算一種字母的數量。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_letter</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;字母統一換成小寫</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="char">'A'</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="char">'Z'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>]&nbsp;-&nbsp;</span><span class="char">'A'</span><span>&nbsp;+&nbsp;</span><span class="char">'a'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉26種英文字母</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">26</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉字串的所有字元</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">j</span><span>];&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>[</span><span class="word">j</span><span>]&nbsp;==&nbsp;</span><span class="char">'a'</span><span>&nbsp;+&nbsp;</span><span class="word">i</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>++;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出一種字母的數量</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;(</span><span class="type">char</span><span>)(</span><span class="char">'a'</span><span>&nbsp;+&nbsp;</span><span class="word">i</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>先前曾經介紹過統計字母數量的範例。先前範例當中，雖然耗費記憶體空間，但是執行速度快 ── 簡單來說就是空間大、時間小。此處範例當中，則是空間小，時間大，恰恰相反。這兩種方式各有優缺點，程式員必須自行取捨。</p>
<p class="t">範例：反轉字串</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration11.png">
<p>兩個枚舉，一個從頭到尾，一個從尾到頭，步調相同，逐步對調字元。雖然是兩個枚舉，卻只有一個迴圈。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">reverse_string</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"Hello&nbsp;World!"</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;兩個枚舉，一個從頭到尾，一個從尾到頭。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>,&nbsp;</span><span class="word">j</span><span>=</span><span class="value">12</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">j</span><span>;&nbsp;</span><span class="word">i</span><span>++,&nbsp;</span><span class="word">j</span><span>--)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">s</span><span>[</span><span class="word">j</span><span>]);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"反轉之後的字串是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">reverse</span><span>(</span><span class="type">char</span><span>*&nbsp;</span><span class="word">s</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">strlen</span><span>(</span><span class="word">s</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>/</span><span class="value">2</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">s</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">s</span><span>[</span><span class="word">n</span><span>-</span><span class="value">1</span><span>-</span><span class="word">i</span><span>]);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/15/1595.html">1595</a></p>
<p class="t">範例：尋找總和為 10 的區間</p>
<p>假設陣列元素只有正數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration12.png">
<p>兩個枚舉，枚舉區間左端以及枚舉區間右端，都是從頭到尾，保持一左一右，視情況輪流枚舉。雖然是兩個枚舉，卻只有一個迴圈。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_interval</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">1</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">2</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>,&nbsp;</span><span class="word">j</span><span>=-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;)&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉區間[i,&nbsp;j]</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;&gt;&nbsp;</span><span class="value">10</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;總和太大，區間左端往右縮短。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;-=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">i</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;&lt;&nbsp;</span><span class="value">10</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;總和太小，區間右端往右伸長。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">j</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;==&nbsp;</span><span class="value">10</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;總和剛好，</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;區間左端往右縮短，</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;亦得區間右端往右伸長。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;任選一種皆可。</span></li><li><span class="comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum&nbsp;-=&nbsp;array[i];</span></li><li><span class="comment">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">j</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;==&nbsp;</span><span class="value">10</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'['</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">','</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">j</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">']'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_interval</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>,&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;=</span><span class="word">n</span><span>;&nbsp;)&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉區間[i,&nbsp;j)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;-=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>++];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">j</span><span>++];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sum</span><span>&nbsp;==&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'['</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">','</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">j</span><span>-</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">']'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>讀者可以想想看：陣列元素若有零、有負數，是否要調整枚舉方式？</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/9/972.html">972</a> <a href="http://uva.onlinejudge.org/external/104/10464.html">10464</a> <a href="http://uva.onlinejudge.org/external/115/11536.html">11536</a> <a href="http://uva.onlinejudge.org/external/115/11572.html">11572</a></p>
<p class="t">範例：尋找陣列之中的最小值，陣列已經由小到大排序</p>
<p>找到其中一個最小值：經常整理房間，尋找東西就快；預先排序資料，搜尋速度就快。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration13.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_minimum</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"最小的數字是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="value">0</span><span>];</span></li><li><span>}</span></li></ol></div>
<p>找到所有最小值：讀者請自行嘗試。</p>
<p class="t">範例：尋找陣列之中的特定數字，陣列已經由小到大排序</p>
<p>找到其中一個特定數字：首先找到陣列中央的數字，依其數字大小，繼續搜尋左半段或者右半段。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration14.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">find_number</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">15</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">3</span><span>,&nbsp;</span><span class="value">5</span><span>,&nbsp;</span><span class="value">7</span><span>,&nbsp;</span><span class="value">11</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">13</span><span>,&nbsp;</span><span class="value">17</span><span>,&nbsp;</span><span class="value">19</span><span>,&nbsp;</span><span class="value">23</span><span>,&nbsp;</span><span class="value">29</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="value">31</span><span>,&nbsp;</span><span class="value">37</span><span>,&nbsp;</span><span class="value">41</span><span>,&nbsp;</span><span class="value">43</span><span>,&nbsp;</span><span class="value">47</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">left</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">right</span><span>&nbsp;=&nbsp;</span><span class="value">15</span><span>-</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">left</span><span>&nbsp;&lt;=&nbsp;</span><span class="word">right</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">mid</span><span>&nbsp;=&nbsp;(</span><span class="word">left</span><span>&nbsp;+&nbsp;</span><span class="word">right</span><span>)&nbsp;/&nbsp;</span><span class="value">2</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;&lt;&nbsp;</span><span class="value">29</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">left</span><span>&nbsp;=&nbsp;</span><span class="word">mid</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;繼續搜尋剩下的右半段</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;&gt;&nbsp;</span><span class="value">29</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">right</span><span>&nbsp;=&nbsp;</span><span class="word">mid</span><span>&nbsp;-&nbsp;</span><span class="value">1</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;繼續搜尋剩下的左半段</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>]&nbsp;==&nbsp;</span><span class="value">29</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;找到了其中一個數字</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">mid</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">mid</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"找不到29"</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>找到所有特定數字：讀者請自行嘗試。</p>
<p class="t">範例：平面上距離最近的兩個點（ Closest Pair ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration15.png">
<p>找到距離最近的其中一對點：預先依照 X 座標排序所有點，搜尋得以略過大量情況。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Point</span><span>&nbsp;{</span><span class="type">float</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>;};</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;計算兩點之間的距離</span></li><li><span class="type">float</span><span>&nbsp;</span><span class="word">dist</span><span>(</span><span class="word">Point</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="word">Point</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dx</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>.</span><span class="word">x</span><span>&nbsp;-&nbsp;</span><span class="word">b</span><span>.</span><span class="word">x</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">dy</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>.</span><span class="word">y</span><span>&nbsp;-&nbsp;</span><span class="word">b</span><span>.</span><span class="word">y</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">sqrt</span><span>(</span><span class="word">dx</span><span>&nbsp;*&nbsp;</span><span class="word">dx</span><span>&nbsp;+&nbsp;</span><span class="word">dy</span><span>&nbsp;*&nbsp;</span><span class="word">dy</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">cmp</span><span>(</span><span class="word">Point</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="word">Point</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">a</span><span>.</span><span class="word">x</span><span>&nbsp;&lt;&nbsp;</span><span class="word">b</span><span>.</span><span class="word">x</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">closest_pair</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">Point</span><span>&nbsp;</span><span class="word">point</span><span>[</span><span class="value">10</span><span>]&nbsp;=</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">3</span><span>},&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">4</span><span>,&nbsp;</span><span class="value">6</span><span>},&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">8</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">9</span><span>},</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><span class="value">2</span><span>,&nbsp;</span><span class="value">1</span><span>},&nbsp;{</span><span class="value">7</span><span>,&nbsp;</span><span class="value">2</span><span>},&nbsp;{</span><span class="value">6</span><span>,&nbsp;</span><span class="value">5</span><span>},&nbsp;{</span><span class="value">9</span><span>,&nbsp;</span><span class="value">4</span><span>},&nbsp;{</span><span class="value">5</span><span>,&nbsp;</span><span class="value">9</span><span>}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;依照X座標排序所有點</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">point</span><span>,&nbsp;</span><span class="word">point</span><span>+</span><span class="value">10</span><span>,&nbsp;</span><span class="word">cmp</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="value">1e9</span><span>;&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="word">i</span><span>+</span><span class="value">1</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;兩個點的X座標已經相距太遠，直接略過，</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;繼續枚舉下一個左端點。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">p</span><span>[</span><span class="word">j</span><span>].</span><span class="word">x</span><span>&nbsp;-&nbsp;</span><span class="word">p</span><span>[</span><span class="word">i</span><span>].</span><span class="word">x</span><span>&nbsp;&gt;&nbsp;</span><span class="word">d</span><span>)&nbsp;</span><span class="keyword">break</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">d</span><span>,&nbsp;</span><span class="word">dist</span><span>(</span><span class="word">point</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">point</span><span>[</span><span class="word">j</span><span>]));</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"距離是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">d</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>找到距離最近的每一對點：讀者請自行嘗試。</p>
<p class="t">範例：英文單字從單數變複數</p>
<p>枚舉各種情況，寫成大量判斷式。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration16.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">plural</span><span>(</span><span class="word">string</span><span>&nbsp;</span><span class="word">s</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">s</span><span>.</span><span class="word">length</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>.</span><span class="word">back</span><span>()&nbsp;==&nbsp;</span><span class="char">'y'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">substr</span><span>(</span><span class="value">0</span><span>,&nbsp;</span><span class="word">n</span><span>-</span><span class="value">1</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="string">"ies"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>.</span><span class="word">back</span><span>()&nbsp;==&nbsp;</span><span class="char">'s'</span><span>&nbsp;||&nbsp;</span><span class="word">s</span><span>.</span><span class="word">back</span><span>()&nbsp;==&nbsp;</span><span class="char">'x'</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"es"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>.</span><span class="word">substr</span><span>(</span><span class="word">n</span><span>-</span><span class="value">2</span><span>)&nbsp;==&nbsp;</span><span class="string">"sh"</span><span>&nbsp;||&nbsp;</span><span class="word">s</span><span>.</span><span class="word">substr</span><span>(</span><span class="word">n</span><span>-</span><span class="value">2</span><span>)&nbsp;==&nbsp;</span><span class="string">"ch"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"es"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">s</span><span>.</span><span class="word">substr</span><span>(</span><span class="word">n</span><span>-</span><span class="value">3</span><span>)&nbsp;==&nbsp;</span><span class="string">"man"</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>.</span><span class="word">substr</span><span>(</span><span class="value">0</span><span>,&nbsp;</span><span class="word">n</span><span>-</span><span class="value">3</span><span>)&nbsp;&lt;&lt;&nbsp;</span><span class="string">"men"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'s'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：小畫家倒墨水（ Flood Fill Algorithm ）</p>
<p>電腦圖片可以想成是一張方格紙，每個方格都填著一種顏色。現在要實現小畫家倒墨水的功能：以某一格為起點，只要相鄰方格顏色一樣，就染成同一個顏色。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration17.png">
<p>運用大量指令，枚舉上下左右四個方向；運用遞迴，枚舉相鄰同色方格。</p>
<p>必須避免已經枚舉過的方格又重複枚舉，否則程式在有生之年都不會結束。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">image</span><span>[</span><span class="value">10</span><span>][</span><span class="value">10</span><span>];&nbsp;&nbsp;</span><span class="comment">//&nbsp;圖片的大小為&nbsp;10x10</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">flood</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">old_color</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">x</span><span>&gt;=</span><span class="value">0</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">x</span><span>&lt;</span><span class="value">10</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">y</span><span>&gt;=</span><span class="value">0</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">y</span><span>&lt;</span><span class="value">10</span><span>)&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;不能超出邊界</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">image</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;==&nbsp;</span><span class="word">old_color</span><span>)&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;同色方格才枚舉</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;染色</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">image</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;=&nbsp;</span><span class="word">new_color</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;枚舉上下左右四個方向</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flood</span><span>(</span><span class="word">x</span><span>+</span><span class="value">1</span><span>,&nbsp;</span><span class="word">y</span><span>,&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="word">old_color</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flood</span><span>(</span><span class="word">x</span><span>-</span><span class="value">1</span><span>,&nbsp;</span><span class="word">y</span><span>,&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="word">old_color</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flood</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>+</span><span class="value">1</span><span>,&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="word">old_color</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flood</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>-</span><span class="value">1</span><span>,&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="word">old_color</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">ink</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;在座標(7,6)的方格，淋上1號顏色。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flood</span><span>(</span><span class="value">7</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">1</span><span>,&nbsp;</span><span class="word">image</span><span>[</span><span class="value">7</span><span>][</span><span class="value">6</span><span>]);</span></li><li><span>}</span></li></ol></div>
<p>大量指令，亦得寫成一個迴圈。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">flood</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">new_color</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">old_color</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">image </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] ==&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">old_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] =&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// write a loop</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">&lt; </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Static </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">dx </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">] = { </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">, - </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">};</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Static </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">dy </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">] = { </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">, - </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">};</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flood </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">],&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dy </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">],&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">old_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">);</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multi-layer judgments have also been dismantled into layers of judgments.</font></font></p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">flood </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">y </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">new_color </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">old_color </font></span><span><font style="vertical-align: inherit;">)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;(!( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt;= </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&amp;&amp;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">))&nbsp; </font></font></span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">image </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] !=&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">old_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)&nbsp; </font></font></span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">return </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] =&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">&lt; </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Static </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">dx </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">] = { </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">, - </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">};</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Static </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">dy </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">4 </font></span><span><font style="vertical-align: inherit;">] = { </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">, - </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">};</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flood </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dx </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">],&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dy </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">],&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">old_color </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">);</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVa </font></font><a href="http://uva.onlinejudge.org/external/2/260.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">260 </font></font></a> <a href="http://uva.onlinejudge.org/external/2/280.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">280 </font></font></a> <a href="http://uva.onlinejudge.org/external/3/352.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">352 </font></font></a> <a href="http://uva.onlinejudge.org/external/4/469.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">469 </font></font></a> <a href="http://uva.onlinejudge.org/external/5/572.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">572 </font></font></a> <a href="http://uva.onlinejudge.org/external/6/601.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">601 </font></font></a> <a href="http://uva.onlinejudge.org/external/6/657.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">657 </font></font></a> <a href="http://uva.onlinejudge.org/external/7/776.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">776 </font></font></a> <a href="http://uva.onlinejudge.org/external/7/782.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">782 </font></font></a> <a href="http://uva.onlinejudge.org/external/7/784.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">784 </font></font></a> <a href="http://uva.onlinejudge.org/external/7/785.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">785 </font></font></a> <a href="http://uva.onlinejudge.org/external/8/871.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">871 </font></font></a> <a href="http://uva.onlinejudge.org/external/102/10267.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10267 </font></font></a> <a href="http://uva.onlinejudge.org/external/103/10336.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10336 </font></font></a> <a href="http://uva.onlinejudge.org/external/109/10946.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10946</font></font></a></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ICPC </font></font><a href="http://icpcarchive.ecs.baylor.edu/external/47/4792.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4792 </font></font></a> <a href="http://icpcarchive.ecs.baylor.edu/external/51/5130.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5130</font></font></a></p>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: 3D function plotting</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When the problem is too difficult, increase the limit and change some of the variables to constants.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">First, fix the X value and calculate the Z value of Y; try various X values.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Second, fix the Y value and calculate the Z value of the X value; try various Y values.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Fix the Z value and calculate the X value Y value; try various Z values.</font></font></p>
<a href="http://stackoverflow.com/questions/1526898/"><img src="./Algorithm Notes - Algorithm Design_files/Enumeration18.gif"></a>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Straightforward Method / Trial and Error</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The "direct method" calculates the answer directly. </font><font style="vertical-align: inherit;">For example, follow the process to get the answer, apply the formula to calculate the answer, and print the answer directly.</font></font></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The UVa </font></font><a href="http://uva.onlinejudge.org/external/4/488.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">488 </font></font></a> <a href="http://uva.onlinejudge.org/external/100/10055.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10055 </font></font></a> <a href="http://uva.onlinejudge.org/external/103/10370.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10370 </font></font></a> <a href="http://uva.onlinejudge.org/external/108/10878.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10878 </font></font></a> <a href="http://uva.onlinejudge.org/external/109/10929.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10929</font></font></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Try wrong method", "Trial error method", perform Enumerate and Search for answers. </font><font style="vertical-align: inherit;">Some difficult problems are difficult to directly deduce the answer. Since the derivation does not come out, test the answers slowly and check them slowly—establish the scope of the answer, exhaust all possible answers, and search for the correct answer.</font></font></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The UVa </font></font><a href="http://uva.onlinejudge.org/external/101/10167.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10167 </font></font></a> <a href="http://uva.onlinejudge.org/external/101/10125.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10125 </font></font></a> <a href="http://uva.onlinejudge.org/external/2/296.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">296 </font></font></a> <a href="http://uva.onlinejudge.org/external/8/846.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">846 </font></font></a> <a href="http://uva.onlinejudge.org/external/7/714.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">714</font></font></a></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The direct method and the trial and error method are just the opposite. </font><font style="vertical-align: inherit;">The direct method is to start with the title itself, deducing the answer; trial and error rule is to start from the answer, let the answer meet the problem demand.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration19.png">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Brute Force Attack</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The simplest way to crack passwords is called "violent attacks." </font><font style="vertical-align: inherit;">Without knowing the law of passwords, it is impossible to derive the correct passwords directly. Instead, you must test all possible passwords by trial and error to find the correct password.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration20.png">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: One-way Function</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A "one-way function" is a special function. It is easy to calculate the output for a given input, but it is difficult to calculate the input for a given output.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Enumeration21.png">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example, let the input of a function be two prime numbers and the output be the product of two prime numbers. </font><font style="vertical-align: inherit;">Given two prime numbers, it is easy to calculate the product in polynomial time. However, the exponent time is required to complete the prime factor decomposition for a given product of two prime numbers.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If given a one-way function input, find its output, it is suitable to use the direct method, apply the function quickly to calculate the answer; if given a one-way function of the output, find its input, it is suitable to use trial and error method, try a variety of input And apply the function to quickly verify the answer.</font></font></p>

</div></div><div class="a" id="4"><div class="h">
<p class="b"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iterative Method</font></font></p>
<p class="w"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daosheng has one, two students, two students and three students. </font><font style="vertical-align: inherit;">Laozi</font></font></p>
</div><div class="c">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iterative Method</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The "Iterative Method" and the "Recursive Method" are used in the complex. </font><font style="vertical-align: inherit;">Constantly use the current value obtained, and then get a new value.</font></font></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVa </font></font><a href="http://uva.onlinejudge.org/external/9/997.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">997</font></font></a></p>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: String Integer</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative1.png">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The intuitive method is the incremental method. </font><font style="vertical-align: inherit;">One, ten, one hundred, one thousand, ten thousand, ..., each digit is multiplied by the power of 10 and added to it. </font><font style="vertical-align: inherit;">Here, the processing is performed in the order of high to low numbers to conform to the storage order of the strings.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative2.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Calculate string length</font></font></span></li><li><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">string_length </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">char </font></span><span><font style="vertical-align: inherit;">*&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">s </font></span><span><font style="vertical-align: inherit;">)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">While </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">])&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">++;</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li><li>&nbsp;</li><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Compute 10 exp power</font></font></span></li><li><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">pow10 </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">exp </font></span><span><font style="vertical-align: inherit;">)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">&lt; </font></span><span class="word"><font style="vertical-align: inherit;">exp </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;*=&nbsp; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Return </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li><li>&nbsp;</li><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">string_to_integer </font></span><span><font style="vertical-align: inherit;">()</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Char </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">s </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">10 </font></span><span><font style="vertical-align: inherit;">] =&nbsp; </font></span><span class="string"><font style="vertical-align: inherit;">"26962869" </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="string"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Precalculate the length of the string.</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">length </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">string_length </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="word"><font style="vertical-align: inherit;">s </font></span><span><font style="vertical-align: inherit;">);</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Process high to low numbers sequentially.</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">&lt; </font></span><span class="word"><font style="vertical-align: inherit;">length </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+= ( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] -&nbsp; </font></font></span><span class="char"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'0' </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) *&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pow10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">length </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;-&nbsp; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;-&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">);</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cout </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&lt;&lt;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The better way is to recur! </font><font style="vertical-align: inherit;">The string is read from high to low, that is, from left to right. Each time a character is read, the value is multiplied by ten and the corresponding digit of the current character is added.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">string_to_integer </font></span><span><font style="vertical-align: inherit;">()</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Char </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">s </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">10 </font></span><span><font style="vertical-align: inherit;">] =&nbsp; </font></span><span class="string"><font style="vertical-align: inherit;">"26962869" </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="string"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">s </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">];&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;*&nbsp; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] -&nbsp; </font></font></span><span class="char"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">'0' </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cout </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&lt;&lt;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There is a different solution to the same problem. </font><font style="vertical-align: inherit;">It has a very long code and a very slow execution method. It also has a short code and a fast execution method. </font><font style="vertical-align: inherit;">The quality of a program depends not only on correctness and readability, but also on the calculation method.</font></font></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVa </font></font><a href="http://uva.onlinejudge.org/external/7/759.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">759</font></font></a></p>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Horner's Rule</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polynomial function, substituting value. </font><font style="vertical-align: inherit;">Multiply one by one, constantly change, and get the function value. </font><font style="vertical-align: inherit;">No need for quadratic operations at all.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative4.png">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Divide</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Constantly multiplying by ten, dividing by the divisor, is a recursion.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative5.png">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Newton's Method</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Find the position where the continuous function is equal to zero. </font><font style="vertical-align: inherit;">Setting a position at first, constantly using the slope to find the next position, is a recursion.</font></font></p>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xn+1 = Xn - f(Xn) / f'(Xn)
</font></font></pre>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative6.png">
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: 3n+1 Conjecture ( Collatz Conjecture )</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The conjecture is like this: There is an integer, if it is an even number, it is divided by 2; if it is an odd number, it is multiplied by 3 and then added by 1. </font><font style="vertical-align: inherit;">An integer continues to operate this way and will eventually become 1 . </font><font style="vertical-align: inherit;">The process of this operation is a recursion.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative7.png">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No one has yet proved its correctness. </font><font style="vertical-align: inherit;">Interestingly, no counterexamples have yet been checked.</font></font></p>
<p class="e"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UVa </font></font><a href="http://uva.onlinejudge.org/external/1/100.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100 </font></font></a> <a href="http://uva.onlinejudge.org/external/3/371.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">371 </font></font></a> <a href="http://uva.onlinejudge.org/external/6/694.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">694</font></font></a></p>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Cellular Automaton</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A two-dimensional grid of squares, each cell has a cell, may be alive, and may be dead. </font><font style="vertical-align: inherit;">The life condition of cells changes with time and the rules of change are as follows:</font></font></p>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resurrection: A dead cell. If it is its eight neighbors and three cells are alive, it will be resurrected at the next moment. </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Survival: A living cell, if it has eight neighbors, two or three cells are alive, then survive the next moment. </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Death from loneliness: A living cell, if it has eight neighbors, only zero or one cell is alive, then die in the next moment. </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die from crowding: A living cell, if it has eight neighbors, more than four cells are alive, then die in the next moment.</font></font>
</pre>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative8.png">
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In practice, we can get two maps. The first map stores the current state of the moment, and the second map stores the state of the next moment. </font><font style="vertical-align: inherit;">Two maps are used interchangeably to save memory space.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The rules of cell changes are packaged into a function that makes the code easy to read.</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No one has yet been able to predict that cells will eventually die or continue.</font></font></p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">go </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">y </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">bool </font></span><span class="word"><font style="vertical-align: inherit;">map1 </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">100 </font></span><span><font style="vertical-align: inherit;">][ </font></span><span class="value"><font style="vertical-align: inherit;">100 </font></span><span><font style="vertical-align: inherit;">],&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">bool </font></span><span class="word"><font style="vertical-align: inherit;">map2 </font></span><span><font style="vertical-align: inherit;">[ </font></span><span class="value"><font style="vertical-align: inherit;">100 </font></span><span><font style="vertical-align: inherit;">][ </font></span><span class="value"><font style="vertical-align: inherit;">100 </font></span><span><font style="vertical-align: inherit;">])</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">&nbsp;= the number of cells that are still alive in the eight neighborhoods;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;(! </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">map1 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">])</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;==&nbsp; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </font></font></span><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Resurrection</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Map2 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">][ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] =&nbsp; </font></font></span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">true </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Else </font></font></span><font style="vertical-align: inherit;"><span class="comment"><font style="vertical-align: inherit;">// still dead</font></span></font><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment"><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map2</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;=&nbsp;</span><span class="word">map1</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">2</span><span>&nbsp;||&nbsp;</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">3</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;存活</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map2</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>&nbsp;||&nbsp;</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">1</span><span>)&nbsp;&nbsp;</span><span class="comment">//&nbsp;死於孤單</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map2</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&gt;=&nbsp;</span><span class="value">4</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;死於擁擠</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map2</span><span>[</span><span class="word">x</span><span>][</span><span class="word">y</span><span>]&nbsp;=&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">cellular_automata</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">map</span><span>[</span><span class="value">2</span><span>][</span><span class="value">100</span><span>][</span><span class="value">100</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map</span><span>[</span><span class="value">0</span><span>][</span><span class="value">50</span><span>][</span><span class="value">50</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;自行設定一些活的細胞</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map</span><span>[</span><span class="value">0</span><span>][</span><span class="value">50</span><span>][</span><span class="value">51</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">map</span><span>[</span><span class="value">0</span><span>][</span><span class="value">51</span><span>][</span><span class="value">50</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">t</span><span>&lt;</span><span class="value">100</span><span>;&nbsp;++</span><span class="word">t</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">x</span><span>&lt;</span><span class="value">100</span><span>;&nbsp;++</span><span class="word">x</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">y</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">y</span><span>&lt;</span><span class="value">100</span><span>;&nbsp;++</span><span class="word">y</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">go</span><span>(</span><span class="word">x</span><span>,&nbsp;</span><span class="word">y</span><span>,&nbsp;</span><span class="word">map</span><span>[</span><span class="word">t</span><span>%</span><span class="value">2</span><span>],&nbsp;</span><span class="word">map</span><span>[(</span><span class="word">t</span><span>+</span><span class="value">1</span><span>)%</span><span class="value">2</span><span>]);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/4/447.html">447</a> <a href="http://uva.onlinejudge.org/external/4/457.html">457</a> <a href="http://uva.onlinejudge.org/external/104/10443.html">10443</a> <a href="http://uva.onlinejudge.org/external/105/10507.html">10507</a></p>
<p class="t">範例：蘭頓的螞蟻（ Langton's Ant ）</p>
<p>跟生命遊戲相似，不過這個遊戲更神奇。</p>
<pre>一、格子有黑與白兩種顏色。
二、螞蟻走入白格則右轉，走入黑格則左轉。
三、螞蟻離開格子時，格子顏色顛倒。
</pre>
<p>驚人的是，乍看完全沒有規律的路線，卻在 10647 步之後開始循環。原因至今不明。</p>
<a href="https://commons.wikimedia.org/wiki/File:LangtonsAntAnimated.gif"><img src="./Algorithm Notes - Algorithm Design_files/Iterative9.gif" width="236" height="236"></a>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/116/11664.html">11664</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/74/7478.pdf">7478</a> <a href="http://icpcarchive.ecs.baylor.edu/external/74/7479.pdf">7479</a></p>
<p class="t">範例：數學歸納法（ Mathematical Induction ）</p>
<p>數學歸納法的第二步驟，就是證明可不可以遞推！第二步驟的證明過程中一定會用到遞推！</p>
<pre>1. 先證明 n = 1 成立。（有時候不見得要從1開始。）
2. 假設 n = k 成立，證明 n = k+1 也會成立。

當 1. 2. 得證，就表示 n = 1 ... ∞ 全部都成立。
</pre>
<p class="t">範例：插入排序法（ Insertion Sort ）</p>
<p>從表面上來看是遞增法與枚舉法：第一層是遞增法，逐一把每個數字插入到左方已排序的陣列。第二層是枚舉法，搜尋插入位置；再將大量數字往右挪，以騰出空間插入數字。</p>
<p>但是從另一個角度來看，利用目前排序好的陣列，再求出更長的陣列，其實就是遞推法。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative10.png">
<p class="t">範例：以試除法建立質數表</p>
<p>從表面上來看是兩層的枚舉法：第一層先枚舉正整數，一一試驗是否為質數；第二層再枚舉所有已知質數，一一試除。</p>
<p>但是從另一個角度來看，利用目前求得的質數，再求出更多質數，其實就是遞推法。</p>
<p class="t">範例：十分逼近法</p>
<p>數線分割成十等份區間，從中找出正確區間，把對應的小數位數添到答案末端，然後不斷十等分下去。</p>
<p>利用目前求得的小數，再求出更多的小數，其實就是遞推法。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative11.png">
<p class="t">範例：書塔（ Book Stacking Problem ）</p>
<p>將書本一本一本疊起來，成為一座斜塔，越斜越好。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative12.png">
<p>對於任何一本書來說，其上方所有書本的整體重心，必須落在這本書上，這本書才能平穩地支撐住上方所有書本。</p>
<p>將書本插入到書塔底部，讓書塔的重心落在書本邊緣，就可以讓書塔最斜。插入書本到書塔底部之後，就更新書塔的重心位置，以便稍後插入下一本書本。</p>
<p>不斷插入書本到書塔底部、更新書塔重心，運用先前的書塔求得新的書塔 ── 這段過程就是一種遞推。</p>
<p class="t">範例：交卷</p>
<p>考試結束了，學生要交卷，老師要收卷。大家將手上的考卷，不斷傳遞給其他人，不斷匯集給老師。一個人不能同時交卷和收卷，一個人不能同時交卷給多人（搗亂），一個人不能同時向多人收卷（手忙腳亂）。假設每個人交卷速度一致，請讓整個過程越短越好。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Iterative13.png">
<p>每個人隨時都在收卷交卷，一定最省時。老師亦然，一直處於收卷狀態，一定最省時。</p>
<p>遞增的標的，選定為老師。老師每次收卷，直接複製貼上前面幾次收卷的部屬方式，是最好的 ── 這段過程就是一種遞推。</p>

</div></div><div class="a" id="5"><div class="h">
<p class="b">Recursive Method</p>
<p class="w">易有太極，是生兩儀。兩儀生四象，四象生八卦。《易傳》</p>
</div><div class="c">
<p class="t">Recursive Method</p>
<p>繁中「遞迴法」、簡中「递归法」。重複運用相同手法，縮減問題範圍，直到釐清細節。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/109/10994.html">10994</a> <a href="http://uva.onlinejudge.org/external/102/10212.html">10212</a> <a href="http://uva.onlinejudge.org/external/104/10471.html">10471</a> <a href="http://uva.onlinejudge.org/external/109/10922.html">10922</a></p>
<p class="t">範例：碎形（ Fractal ）</p>
<p>利用相同手法繪圖，繪圖範圍越來越精細。</p>
<p>圖中的碎形稱作 Sierpinski triangle 。凡是尖端朝上的正三角形，就在當中放置一個尖端朝下的正三角形；放置之後，圖形就變得更細膩，範圍就變得更小了。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive1.png">
<p>圖中的碎形稱作 Kosh snowflake 。一條邊三等分，去除中段，朝外補上兩段，形成尖角。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive2.png">
<p>圖中的碎形稱作 Pythagorean tree 。不斷繪製正方形、直角三角形，看起來像是一棵茂密的樹。</p>
<canvas id="fractal" width="500" height="300" contextmenu="fractal.menu"></canvas>
<script id="fractal.js">
var loop = 1;
document.getElementById('fractal').onclick = function(){DrawPythagoreanTree(280, 298, 350, 298, loop = loop % 12 + 1);};

DrawPythagoreanTree(280, 298, 350, 298, 1);
function DrawPythagoreanTree(x1, y1, x2, y2, loop) {
	var c = document.getElementById('fractal');
	var ctx = c.getContext('2d');

	ctx.clearRect(0, 0, c.width, c.height);
	ctx.font = "32pt Arial";
	ctx.textBaseline = "top";
	ctx.strokeStyle = "rgb(0,127,0)";
	ctx.strokeText("Click Me !", 0, 0);

	ctx.beginPath();
	ctx.moveTo(x1, y1);
	ctx.lineTo(x2, y2);
	ctx.strokeStyle = "rgb(0,127,0)";
	ctx.stroke();

	DrawSquare(ctx, x1, y1, x2, y2, loop);
}

function DrawSquare(ctx, x1, y1, x2, y2, loop) {
	if (loop <= 0) return;

	var dx = x2 - x1;
	var dy = y2 - y1;

	var x3 = x2 + dy; 
	var y3 = y2 - dx;

	var x4 = x1 + dy;
	var y4 = y1 - dx;

	ctx.beginPath();
	ctx.moveTo(x2, y2);
	ctx.lineTo(x3, y3);
	ctx.lineTo(x4, y4);
	ctx.lineTo(x1, y1);
	ctx.stroke();

	DrawTriangle(ctx, x4, y4, x3, y3, loop);
}

function DrawTriangle(ctx, x1, y1, x2, y2, loop) {
	if (loop <= 0) return;

	var a = 4, b = 3;
	var c = a * a + b * b;

	var dx = x2 - x1;
	var dy = y2 - y1;

	var x3 = x1 + (dx * a + dy * b) * a / c;
	var y3 = y1 - (dx * b - dy * a) * a / c;

	ctx.beginPath();
	ctx.moveTo(x1, y1);
	ctx.lineTo(x3, y3);
	ctx.lineTo(x2, y2);
	ctx.stroke();

	DrawSquare(ctx, x1, y1, x3, y3, loop - 1);
	DrawSquare(ctx, x3, y3, x2, y2, loop - 1);
}
</script>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/177.html">177</a> <a href="http://uva.onlinejudge.org/external/106/10609.html">10609</a></p>
<p class="t">範例：質因數分解（ Integer Factorization ）</p>
<p>不斷抽取出質因數，使數值不斷變小，直到成為質因數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive3.png">
<p class="t">範例： L 形磁磚</p>
<p>有一個邊長為 2 的 3 次方的正方形，右上角缺了一角邊長為 1 的正方形。現在要以 L 形磁磚貼滿這個缺了一角的正方形，該如何貼呢？</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive4.png">
<p>巧妙地將一塊 L 形磁磚放在中央的位置，就順利的把正方形切成四個比較小的、亦缺了一角的正方形。接下來只要遞迴處理四個小正方形，就解決問題了。</p>
<p>這個問題也可以改成缺口在任意一處，各位可以想想看怎麼解。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/102/10230.html">10230</a></p>
<p class="t">範例：輾轉相除法（ Euclid's Algorithm ）</p>
<p>兩個數字輪流相除、求餘數，最後就得到最大公因數（ greatest common divisor, gcd ）。相信大家小時候都有學過。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive5.png">
<p>我們可以把最大公因數想像成磚塊、把兩個數字都看成是最大公因數的倍數。</p>
<p>兩數相減所得的差值，一定是最大公因數的倍數。更進一步來說，兩數相除所得的餘數，一定是最大公因數的倍數。輾轉相除法的過程當中，兩數自始至終都是最大公因數的倍數。</p>
<p>運用這個性質，我們把兩數相除、求餘數，使得原始數字不斷縮小，直到得到最大公因數。真是非常巧妙的遞歸法！</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;運用程式語言的迴圈語法。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">gcd</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;令&nbsp;a&nbsp;比&nbsp;b&nbsp;大，比較容易思考。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">b</span><span>&nbsp;!=&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>&nbsp;%&nbsp;</span><span class="word">b</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">a</span><span>&nbsp;=&nbsp;</span><span class="word">b</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">b</span><span>&nbsp;=&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">a</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;運用程式語言的遞迴語法。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">gcd</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;令&nbsp;a&nbsp;比&nbsp;b&nbsp;大，比較容易思考。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">b</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">a</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">gcd</span><span>(</span><span class="word">b</span><span>,&nbsp;</span><span class="word">a</span><span>&nbsp;%&nbsp;</span><span class="word">b</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>注意到，遞推法、遞歸法，不等於程式語言中的迴圈、遞迴。遞推法、遞歸法是分析問題的方法，用來得到計算過程、用來得到演算法。至於編寫程式時，我們可以自由地採用迴圈或者遞迴。</p>
<p class="t">範例：過橋問題（ Bridge and Torch Problem ）</p>
<p>月黑風高的夜晚，有一座不長不短的獨木橋，只能同時容兩人併行。</p>
<p>此時正好有四個寂寞難耐、悲苦淒涼，事實上是窮極無聊的四個人路經此地。他們手邊僅帶著一支手電筒，想要通過這危險的獨木橋。那橋下可是暗潮洶湧，一失足成千古恨，奔流到海不復回。</p>
<p>幸好四人閒閒沒事就常走這座橋，對路況簡直熟悉到不行，閉著眼睛走都可以，於是乎四人知道自己過橋分別需時 1 分鐘、 2 分鐘、 5 分鐘、 10 分鐘。但是不管他們的腳程不可思議的快、莫名其妙的慢，四人都是貪生怕死之徒，手上沒有握著手電筒的話，誰都不敢過橋；四人也都是視財如命之徒，就是誰也不想浪費錢，去附近的便利商店買支手電筒，寧可摔到水裡隨波逐流環遊世界去。</p>
<p>最後他們只好協議說，一次兩人同時持手電筒過橋，再請其中一人送回手電筒，沒事做的人就在橋邊哭爹喊娘等手電筒回來，如此一來四人最終都能夠順利過橋。</p>
<p>兩人同時過橋時必須配合走得慢的人的速度，請問全員過橋最快要多久時間？</p>
<p>有一些規矩你是知道的，例如不能把手電筒用丟的丟過河，不能四個人疊羅漢一起過橋，不能把橋拆了做木筏之類的。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive6.png">
<p>題目終於說完了，現在來談解題手法：</p>
<p>腳程快的人送手電筒回來那是最好的；相對地，腳程慢的人就應該讓他留在彼岸不要回來。不管先走後走，人人都還是要過橋，所以先試試看把腳程最慢的人送到對岸吧！</p>
<p>當人數眾多，至少四人時，令 A 與 B 是最快與次快， C 與 D 是次慢與最慢。讓最慢的兩個人過橋主要有兩種方式，第一種是 AB 去 A 回、 CD 去 B 回，第二種是 AD 去 A 回、 AC 去 A 回，至於其它方式所花的時間恰好跟這兩種方式一樣。採用比較快的那一種方式，讓最慢的兩個人過橋之後，問題範圍就縮小了。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;各個人的腳程由慢到快排序</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">a</span><span>[</span><span class="value">8</span><span>]&nbsp;=&nbsp;{</span><span class="value">1</span><span>,&nbsp;</span><span class="value">2</span><span>,&nbsp;</span><span class="value">5</span><span>,&nbsp;</span><span class="value">10</span><span>,&nbsp;</span><span class="value">15</span><span>,&nbsp;</span><span class="value">16</span><span>,&nbsp;</span><span class="value">30</span><span>,&nbsp;</span><span class="value">31</span><span>};</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">bridge_and_torch</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="word">t</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">n</span><span>=</span><span class="value">8</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">n</span><span>&gt;=</span><span class="value">3</span><span>;&nbsp;</span><span class="word">n</span><span>-=</span><span class="value">2</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t1</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>[</span><span class="value">0</span><span>]&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="value">1</span><span>]*</span><span class="value">2</span><span>&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t2</span><span>&nbsp;=&nbsp;</span><span class="word">a</span><span>[</span><span class="value">0</span><span>]*</span><span class="value">2</span><span>&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="word">n</span><span>-</span><span class="value">1</span><span>]&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">t1</span><span>,&nbsp;</span><span class="word">t2</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">2</span><span>)&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">a</span><span>[</span><span class="value">0</span><span>]&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="value">1</span><span>]&nbsp;+&nbsp;</span><span class="word">a</span><span>[</span><span class="value">2</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">1</span><span>)&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">a</span><span>[</span><span class="value">1</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">a</span><span>[</span><span class="value">0</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"所有人過橋的總時間為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/100/10037.html">10037</a></p>
<p class="t">遞推法、遞歸法，一體兩面，同時存在。</p>
<p>遞推法與遞歸法恰好顛倒：遞推法是針對已知，逐步累積，直至周全；遞歸法是針對未知，反覆拆解，直至精確。</p>
<p>遞推法是由小到大，遞歸法是由大到小。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive7.png">
<p class="t">範例：秦九韶演算法（ Horner's Rule ）</p>
<p>遞推法是不斷配 x ，擴增已知；遞歸法是不斷提 x ，減少未知。</p>
<pre>a ⋅ x² + b ⋅ x¹ + c

Iterative Method:
{a} ⋅ x² + b ⋅ x¹ + c
{a, ⋅x} ⋅ x¹ + b ⋅ x¹ + c
{a, ⋅x, +b} ⋅ x¹ + c
{a, ⋅x, +b, ⋅x} + c
{a, ⋅x, +b, ⋅x, +c}

Recursive Method:
{a ⋅ x² + b ⋅ x¹ + c}
{a ⋅ x² + b ⋅ x¹}, +c
{a ⋅ x¹ + b}, ⋅x, +c
{a ⋅ x¹}, +b, ⋅x, +c
{a}, ⋅x, +b, ⋅x, +c
</pre>
<p>雖然遞推法與遞歸法的推理方向是相反的，但是遞推法與遞歸法的計算方向是一樣的，兩者都是由小範圍算到大範圍。</p>
<pre>Iterative Method:
a, ⋅x, +b, ⋅x, +c

Recursive Method:
a, ⋅x, +b, ⋅x, +c
</pre>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/4/498.html">498</a> <a href="http://uva.onlinejudge.org/external/102/10268.html">10268</a></p>
<p class="t">範例：爬樓梯</p>
<p>眼前有五階樓梯，一次只能踏一階或踏兩階，那麼爬到五階總共有哪幾種踏法？例如 (1,1,1,1,1) 是其中一種踏法， (1,2,2) 是另一種踏法。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Recursive8.png">
<p>這個問題可以用遞推法，也可以用遞歸法。</p>
<p>首先採用遞推法。試著只爬少少的幾階樓梯，觀察一下踏法。</p>
<p>爬到一階的踏法：很明顯的只有一種， (1) 。</p>
<p>爬到兩階的踏法：有兩種， (1,1) 和 (2) 。</p>
<p>爬到三階的踏法：因為一次只能踏一階或踏兩階，所以只可能從第一階或從第二階踏上第三階。只要綜合 ( 爬到一階的踏法 ,2) 與 ( 爬到兩階的踏法 ,1) ，就是爬到三階的踏法。</p>
<p>爬到四階的踏法：同理，綜合 ( 爬到兩階的踏法 ,2) 與 ( 爬到三階的踏法 ,1) 即得。</p>
<p>遞推下去，就可求出爬到五階的踏法。</p>
<pre>Forward Iterative Method:
爬到一階　(1)
爬到兩階　(1,1) (2) 
爬到三階　即是(爬到一階,2)與(爬到二階,1)
　　　　　(1,2)
　　　　　(1,1,1) (2,1)
爬到四階　即是(爬到二階,2)與(爬到三階,1)
　　　　　(1,1,2) (2,2)
　　　　　(1,2,1) (1,1,1,1) (2,1,1)
爬到五階　即是(爬到三階,2)與(爬到四階,1)
　　　　　(1,2,2) (1,1,1,2) (2,1,2)
　　　　　(1,1,2,1) (2,2,1) (1,2,1,1) (1,1,1,1,1) (2,1,1,1)
</pre>
<p>前面是採用上樓梯的順序進行遞推，由第一階遞推到第五階。也可以採用下樓梯的順序進行遞推，由第五階遞推到第一階。</p>
<pre>Backward Iterative Method:
降到四階　(1)
降到三階　(1,1) (2)
降到二階　即是(2,降到四階)與(1,降到三階)
　　　　　(2,1)
　　　　　(1,1,1) (1,2)
降到一階　即是(2,降到三階)與(1,降到二階)
　　　　　(2,1,1) (2,2)
　　　　　(1,2,1) (1,1,1,1) (1,1,2)
降到平面　即是(2,降到二階)與(1,降到一階)
　　　　　(2,2,1) (2,1,1,1) (2,1,2)
　　　　　(1,2,1,1) (1,2,2) (1,1,2,1) (1,1,1,1,1) (1,1,1,2)
</pre>
<p>有一些問題，比如爬樓梯問題，雙向都可以遞推。數值由小到大的方向稱為「正向」或「順向」（ forward ），數值由大到小的方向稱為「反向」或「逆向」（ backward ）。</p>
<p>接著採用遞歸法。由踏出的最後一步開始分析。</p>
<p>要「爬到五階」，最後一步一定是踏上第五階。要踏上第五階，只可能從第四階和第三階踏過來，也就是綜合 ( 爬到四階的踏法 ,1) 與 ( 爬到三階的踏法 ,2) 。</p>
<p>但是我們尚不知如何「爬到四階」和「爬到三階」，所以只好再分別研究「爬到四階」與「爬到三階」。不斷追究到「爬到一階」與「爬到兩階」的時候，就能確認答案了！</p>
<pre>Forward(?) Recursive Method:
爬到五階　即是(爬到四階,1)與(爬到三階,2)
爬到四階　即是(爬到三階,1)與(爬到二階,2)
爬到三階　即是(爬到二階,1)與(爬到一階,2)
爬到兩階　(2) (1,1)
爬到一階　(1)
</pre>
<p>當然也可以雙向遞歸。就不贅述了。</p>
<p class="t">範例：格雷碼（ Gray Code ）</p>
<pre>Iterative Method:
GrayCode(n-1)的每個數字，最高位數加一個0。
GrayCode(n-1)的每個數字，高位數與低位數整個顛倒，然後在最高位數加一個1。
兩者銜接起來就是GrayCode(n)。

Recursive Method:
GrayCode(n)的每個數字，分成兩類。
第一類最高位數是0，把最高位數拿掉後，即形成GrayCode(n-1)。
第二類最高位數是1，把最高位數拿掉後，即形成GrayCode(n-1)。
</pre>
<p>也可以用最低位數為主，進行遞推、遞歸，生成順序不同的 Gray Code 。 Gray Code 具有循環的特性，有多種遞推、遞歸方式，不分正向與逆向。</p>

</div></div><div class="a" id="6"><div class="h">
<p class="b">Greedy Method</p>
<p class="w">今朝有酒今朝醉，明日愁來明日愁。《羅隱．自遣》</p>
<p class="w">博觀而約取，厚積而薄發。《蘇軾．稼說送張琥》</p>
</div><div class="c">
<p class="t">Greedy Method</p>
<p>「貪心法」。以 Incremental Method 或 Iterative Method 製造答案的方法，大致上分為兩類：</p>
<pre>一、填答案：從沒有答案開始，逐步填滿答案。
二、改答案：先隨便弄個答案，逐步修飾答案。
</pre>
<pre>一、觀察問題特徵，擬定一個填答案、改答案的原則。
二、隨便挑幾個特例，手算一下。
　　如果答案都對，就大膽假設此原則是正確的。
　　（也可以嘗試證明此原則必定正確。）
三、實作程式碼，把答案算出來。
</pre>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/1/120.html">120</a> <a href="http://uva.onlinejudge.org/external/3/311.html">311</a> <a href="http://uva.onlinejudge.org/external/4/410.html">410</a> <a href="http://uva.onlinejudge.org/external/5/514.html">514</a> <a href="http://uva.onlinejudge.org/external/5/538.html">538</a> <a href="http://uva.onlinejudge.org/external/6/668.html">668</a> <a href="http://uva.onlinejudge.org/external/7/757.html">757</a> <a href="http://uva.onlinejudge.org/external/101/10148.html">10148</a> <a href="http://uva.onlinejudge.org/external/102/10201.html">10201</a> <a href="http://uva.onlinejudge.org/external/102/10249.html">10249</a> <a href="http://uva.onlinejudge.org/external/103/10366.html">10366</a> <a href="http://uva.onlinejudge.org/external/103/10382.html">10382</a> <a href="http://uva.onlinejudge.org/external/104/10440.html">10440</a> <a href="http://uva.onlinejudge.org/external/106/10602.html">10602</a> <a href="http://uva.onlinejudge.org/external/107/10716.html">10716</a> <a href="http://uva.onlinejudge.org/external/107/10718.html">10718</a> <a href="http://uva.onlinejudge.org/external/109/10982.html">10982</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/37/3752.pdf">3752</a> <a href="http://icpcarchive.ecs.baylor.edu/external/47/4788.pdf">4788</a></p>
<p class="t">範例：找零錢</p>
<p>你去商店買東西，你掏出了一張一百元，買了一包 23 元的零食。店員須找零錢給你，但是你希望店員找給你的硬幣數目越少越好，如此口袋會輕一點。那麼店員會給你幾個硬幣呢？</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy1.png">
<p>填答案的原則是：先找給你面額較高的硬幣。</p>
<p>金額越少，找給你的硬幣數目也就越少。先找給你面額較高的硬幣，金額下降的最多 ── 如此一來，往後找給你的硬幣數目就一定是最少了。</p>
<p>注意到：當錢幣面額很特別時，這個方法才正確。詳情請參考「 <a href="http://www.csie.ntnu.edu.tw/~u91029/KnapsackProblem.html">Change-Making Problem</a> 」。</p>
<p class="t">範例：文章換行（ Word Wrap ）</p>
<p>一大段的英文段落，適當的將文章換行，讓文字不超過紙張邊界，盡量節省紙張空間。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy2.png">
<p>填答案的原則是：字儘量往前擠，擠不下就換行。</p>
<p class="t">範例：騎士周遊問題（ Knight's Tour ）</p>
<p>西洋棋盤上，請找到一條路線，讓騎士恰好經過棋盤上每一格各一次。</p>
<a href="https://commons.wikimedia.org/wiki/File:Knight&#39;s_tour_anim_2.gif"><img src="./Algorithm Notes - Algorithm Design_files/Greedy3.gif" width="204" height="204"></a>
<p>填答案的原則是：走向出路選擇較少的格子。如果遇到出路選擇一樣多的格子，就走向位於下方的格子。如果又遇到一樣低的格子，就走向位於左方的格子。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy4.png">
<p>這種填答案的方式，耗盡死路，保留活路，將來走入死胡同的機會就變少了。有一種「置之死地而後生」的味道。</p>
<p>注意到：這個方法不一定會成功。我們根本無法證明這個方法會成功，只是乍看起來比較容易成功。</p>
<p>我們當下所做的最佳決定，以長遠的眼光來看，不一定是最佳決定。儘管貪心法不見得得到正確的、最好的答案，卻是個快速得到答案的好方法。</p>
<p class="t">範例：活動選擇問題（ Activity Selection Problem ）</p>
<p>暑假到了，有好多好多有趣的營隊可以參加囉！攀岩、潛水、單車環島團、吉他營、電腦營、 …… ，每個營隊都好有趣，好想每個營隊都參加 ── 可是卻有好多營隊的活動期間都互相卡到，沒辦法同時參加。到底要參加哪些營隊活動才好呢？當然是越多種越好！</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy5.png">
<p>填答案的原則很簡單：優先選擇最早結束的活動，就能剩下最多時間來安排其他活動。</p>
<p>仔細分成兩種情況進行討論：一、最早結束的活動，與其他活動的時間不重疊；二、最早結束的活動，與某些活動的時間重疊。</p>
<p>一的狀況下，參加最早結束的活動，顯然是最理想的 ── 憑空多參加了一個活動，又不耽誤到其他活動。</p>
<p>此觀念可以用 Recursive Method 詮釋：去除最早結束的活動、遞迴縮小問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy6.png">
<p>二的狀況下，最早結束的活動、以及時間與之重疊的活動當中，只能選擇其中一個參加。此時參加最早結束的活動，得以剩下比較多的時間，仍是最理想的。</p>
<p>此觀念可以用 Recursive Method 詮釋：去除最早結束的活動、去除因而無法參加的活動，遞迴縮小問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy7.png">
<p>填答案的原則是：所有活動按照結束時間排序，依序參加活動。如果時間允許就參加，如果時間衝突就不參加。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy8.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/100/10020.html">10020</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/43/4328.pdf">4328</a> <a href="http://icpcarchive.ecs.baylor.edu/external/51/5105.pdf">5105</a></p>
<p class="t">範例：函數的區域最小值</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy9.png">
<p>改答案的原則是：一開始 x 隨意設定一個數值，例如設定 x = 0 。微調 x 值，並且計算 f(x)── 如果 f(x) 減少，就更新 x ；如果 f(x) 沒減少，就不更新 x 。不斷修改 x 值，最後就到達區域最小值。</p>
<p class="t">範例：交換相鄰數字的排序法</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy10.png">
<p>改答案的原則是：每當發現相鄰兩個數字，左邊數字大於右邊數字，兩個數字就交換位置。</p>
<p>不斷交換位置，導致大數字逐漸往右端移動、小數字逐漸往左端移動，最後一定能完成排序。</p>
<p>讀者可以想想看：交換任意兩個數字的排序法，成立嗎？</p>
<p>順帶一提，排序過程反向操作，可以得到一個結論：排序過的陣列，經由兩兩相鄰交換，一定可以得到各種排列方式。</p>
<p class="t">範例：荷蘭國旗問題（ Dutch National Flag Problem ）</p>
<p><a href="http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem/" class="l">http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem/</a></p>
<p><a href="http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem-2/" class="l">http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem-2/</a></p>
<p><a href="http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem-3/" class="l">http://www.iis.sinica.edu.tw/~scm/ncs/2010/10/dutch-national-flag-problem-3/</a></p>
<p class="t">範例：工作排程問題（ Single Machine Scheduling, Minimize the Number of Tardy Jobs ）（ 1||∑Ui ）</p>
<p>有一位苦命上班族，要馬上處理臨時指派的 N 份工作。經驗老到的他，馬上就精準的估計出每份工作各要花掉多少時間，可是每份工作都有不同的完工期限，這造成有些工作可能會來不及完成。他做事專心，要求品質，一次只處理一份工作，一份一份接著做；來不及完成的工作，乾脆放棄不做。</p>
<p>請找出一種排程，讓如期完成的工作最多（也就是讓逾期完成的工作最少），順便讓總工時越短越好。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy11.png">
<p>合理排程之相鄰交換性質：</p>
<p>一個合理排程，其中某兩個如期完成的工作 A 與 B ， A 與 B 緊鄰完成， A 早做 B 晚做， A 期限晚 B 期限早（或期限相同），則 A 與 B 對調位置之後，仍是一個合理排程。分析如下：</p>
<pre>A與B視作一體進行交換：排程裡的其他工作皆不受影響。
A放到B的位置：A的期限比B還晚，B都能如期完成了，所以A也能如期完成。
B放到A的位置：B提早做，更能如期完成。
</pre>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy12.png">
<p>一個合理排程，不斷地進行相鄰交換，終會形成「工作依照期限排序」的合理排程！反之亦然！小心，不相鄰則不可貿然交換。</p>
<p>因此，我們只需著眼於「工作依照期限排序」的合理排程。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/100/10026.html">10026</a> <a href="http://uva.onlinejudge.org/external/113/11389.html">11389</a></p>
<p>填答案的原則是：所有工作依照期限排序，依序加入排程。一次加入一個工作，一旦發現逾期，立即從排程當中抽掉工時最長的工作。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy13.png">
<pre>已經加入N個工作，排程裡有M個工作。
排程裡的工作，是前N個工作的最佳解。也就是說：
α. 這M個工作，全部如期完成。
β. 前N個工作之中，如期完成的工作數量最多就是M。
γ. 前N個工作之中，這M個工作總工時最短。
</pre>
<p>以數學歸納法證明之。假設 N 成立，當第 N+1 個工作加入排程，有兩種情況。</p>
<p>一、沒有發生逾期：</p>
<p>這 M 個工作，本來就是如期完成、工作數量最多、總工時最短的最佳選擇。第 N+1 個工作加入之後， αβγ 依然成立。</p>
<p>二、發生逾期，立即抽出工時最長的工作：</p>
<p>這 M 個工作，已經能如期完成。抽出工時最長的工作，補上工時稍短（或相等）的第 N+1 個工作，更能如期完成了。 α 成立。</p>
<p>這 M 個工作，總工時已經是最短了，還是無法添加第 N+1 個工作，不得已抽掉一個工作，工作數量已經盡量多了。 β 成立。</p>
<p>抽出工時最長的工作，總工時下降最多。 γ 成立。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Job</span><span>&nbsp;{</span><span class="type">int</span><span>&nbsp;</span><span class="word">time</span><span>,&nbsp;</span><span class="word">due</span><span>;}&nbsp;</span><span class="word">job</span><span>[</span><span class="value">10</span><span>];</span></li><li><span class="word">priority_queue</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">pq</span><span>;</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">cmp</span><span>(</span><span class="word">Job</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="word">Job</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">a</span><span>.</span><span class="word">due</span><span>&nbsp;&lt;&nbsp;</span><span class="word">b</span><span>.</span><span class="word">due</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Moore_Hodgson</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">job</span><span>,&nbsp;</span><span class="word">job</span><span>+</span><span class="value">10</span><span>,&nbsp;</span><span class="word">cmp</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">pq</span><span>.</span><span class="word">push</span><span>(</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">time</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">time</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">t</span><span>&nbsp;&gt;&nbsp;</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">due</span><span>)&nbsp;</span><span class="word">t</span><span>&nbsp;-=&nbsp;</span><span class="word">pq</span><span>.</span><span class="word">top</span><span>(),&nbsp;</span><span class="word">pq</span><span>.</span><span class="word">pop</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"如期完成的工作數量，最多為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">pq</span><span>.</span><span class="word">size</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"逾期完成的工作數量，至少為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="value">10</span><span>&nbsp;-&nbsp;</span><span class="word">pq</span><span>.</span><span class="word">size</span><span>();</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">struct</span><span>&nbsp;</span><span class="word">Job</span><span>&nbsp;{</span><span class="type">int</span><span>&nbsp;</span><span class="word">time</span><span>,&nbsp;</span><span class="word">due</span><span>;}&nbsp;</span><span class="word">job</span><span>[</span><span class="value">10</span><span>];</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="keyword">operator</span><span>&lt;(</span><span class="word">Job</span><span>&nbsp;</span><span class="word">a</span><span>,&nbsp;</span><span class="word">Job</span><span>&nbsp;</span><span class="word">b</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">a</span><span>.</span><span class="word">due</span><span>&nbsp;&lt;&nbsp;</span><span class="word">b</span><span>.</span><span class="word">due</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="type">int</span><span>&nbsp;</span><span class="word">heap</span><span>[</span><span class="value">10</span><span>],&nbsp;</span><span class="word">size</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Moore_Hodgson</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">t</span><span>,&nbsp;</span><span class="word">t</span><span>+</span><span class="value">10</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">heap</span><span>[</span><span class="word">size</span><span>++]&nbsp;=&nbsp;</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">time</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">push_heap</span><span>(</span><span class="word">heap</span><span>,&nbsp;</span><span class="word">heap</span><span>+</span><span class="word">size</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">time</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">t</span><span>&nbsp;&gt;&nbsp;</span><span class="word">job</span><span>[</span><span class="word">i</span><span>].</span><span class="word">due</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>&nbsp;-=&nbsp;</span><span class="word">heap</span><span>[</span><span class="value">0</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">pop_heap</span><span>(</span><span class="word">heap</span><span>,&nbsp;</span><span class="word">heap</span><span>+</span><span class="word">size</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">size</span><span>--;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"如期完成的工作數量，最多為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">size</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"逾期完成的工作數量，至少為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="value">10</span><span>&nbsp;-&nbsp;</span><span class="word">size</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/101/10154.html">10154</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/32/3277.pdf">3277</a> <a href="http://icpcarchive.ecs.baylor.edu/external/48/4850.pdf">4850</a> <a href="http://icpcarchive.ecs.baylor.edu/external/80/8046.pdf">8046</a></p>
<p class="t">範例：工作排程問題（ 2-Machine Flowshop Scheduling ）（ F2||Cmax ）</p>
<p>兩台機器， N 份工作，一台機器一次只能處理一個工作。每份工作必須先經過初號機處理一段時間，再經過貳號機處理一段時間，才算處理完畢。</p>
<p>請找出一種排程，迅速完成所有工作。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy14.png">
<pre>1. 建立兩個空的List，叫做L1和L2。
2. 從N個工作、2N個工時當中，不斷挑出工時最短的工作。
   如果最短工時是初號機的工時，該工作加到L1前端。
   如果最短工時是貳號機的工時，該工作加到L2後端。
3. L1 L2，即是排程。
</pre>
<pre>1. 建立兩個空的List，叫做L1和L2。
2. 對每一個工作，若初號機工時小於貳號機工時，該工作加到L1，反之則加到L2。
3. L1照初號機工時由小到大排序。
   L2照貳號機工時由大到小排序。
4. L1 L2，即是排程。
</pre>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">c1</span><span>[</span><span class="value">10</span><span>];</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">c2</span><span>[</span><span class="value">10</span><span>];</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">cmp1</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">c1</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">c1</span><span>[</span><span class="word">j</span><span>];}</span></li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">cmp2</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">c2</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;&nbsp;</span><span class="word">c2</span><span>[</span><span class="word">j</span><span>];}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">Johnson</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">l1</span><span>,&nbsp;</span><span class="word">l2</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">c1</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">c2</span><span>[</span><span class="word">i</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">l1</span><span>.</span><span class="word">push_back</span><span>(</span><span class="word">i</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">l2</span><span>.</span><span class="word">push_back</span><span>(</span><span class="word">i</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">l1</span><span>.</span><span class="word">begin</span><span>(),&nbsp;</span><span class="word">l1</span><span>.</span><span class="word">end</span><span>(),&nbsp;</span><span class="word">cmp1</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">l2</span><span>.</span><span class="word">begin</span><span>(),&nbsp;</span><span class="word">l2</span><span>.</span><span class="word">end</span><span>(),&nbsp;</span><span class="word">cmp2</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&nbsp;</span><span class="word">l</span><span>&nbsp;=&nbsp;</span><span class="word">l1</span><span>&nbsp;+&nbsp;</span><span class="word">l2</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t1</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">t2</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">l</span><span>.</span><span class="word">size</span><span>();&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t1</span><span>&nbsp;+=&nbsp;</span><span class="word">c1</span><span>[</span><span class="word">l</span><span>[</span><span class="word">i</span><span>]];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t2</span><span>&nbsp;=&nbsp;</span><span class="word">max</span><span>(</span><span class="word">t1</span><span>,&nbsp;</span><span class="word">t2</span><span>)&nbsp;+&nbsp;</span><span class="word">c2</span><span>[</span><span class="word">l</span><span>[</span><span class="word">i</span><span>]];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"總完成時間為"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t2</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">endl</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/112/11269.html">11269</a> <a href="http://uva.onlinejudge.org/external/117/11729.html">11729</a></p>
<p class="t">範例：平面上距離最近的兩個點（ Closest Pair ）</p>
<p>採用遞增法，逐次增加一個點；採用枚舉法，計算新點到其他點的距離。每當發現更近的兩個點，下次即可減少橫向搜尋範圍。</p>
<p>運用目前得到的答案，藉此得到更好的答案！可以看作是間接地、改答案的原則。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy15.png">
<p>另外，還可以減少縱向搜尋範圍。除了新點以外，兩點之間的距離，至少都是上次的最短距離，不能太密太擠。在橫向搜尋範圍之內，進行縱向排序（採用即時排序的資料結構，效率較佳），只需檢查新點的上兩點、下兩點，就一定能檢查到半圓內所有點！</p>
<p>儘管無法直接得到正確的點，但是只需檢查少數幾點！可以看作是間接地、填答案的原則。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Greedy16.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/102/10245.html">10245</a> ICPC <a href="http://icpcarchive.ecs.baylor.edu/external/75/7581.pdf">7581</a></p>

</div></div><div class="a" id="7"><div class="h">
<p class="b">Divide and Conquer</p>
<p class="w">凡治眾如治寡，分數是也。鬥眾如鬥寡，形名是也。《孫子》</p>
</div><div class="c">
<p class="t">Divide and Conquer</p>
<p>「分治法」，分割問題、各個擊破。將一個大問題，分割成許多小問題。如果小問題還是很難，就繼續分割成更小的問題，直到問題變得容易解決。</p>
<p>分割出來的小問題，稱作「子問題 subproblem 」。解決一個問題，等價於解決所有子問題。</p>
<p>用樹狀圖表達原問題與子問題的關係，最好不過！</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer1.png">
<p>分治法著重分割問題的方式 ── 要怎麼分割問題，使得子問題簡單又好算？各位讀者可以藉由本文的範例，體會分割問題的方式。</p>
<p class="t">範例：分解動作</p>
<p>想要學習「從中場帶球上籃」，我們可以將此動作分割為「跑步運球」、「跑步收球」、「單手將球放入籃框」等動作，分別學習。每一項動作都熟練之後，組合起來便是帶球上籃了。</p>
<p>如果覺得「跑步運球」還是太難，可以更細分成「原地運球」、「走動運球」、「運球時護球」等動作，克服了之後便能夠順利解決「跑步運球」的問題了。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer2.png">
<p class="t">範例：方格法求面積</p>
<p>左邊為原問題，右邊放大並細分的圖是其中一個子問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer3.png">
<p class="t">範例：分類數數</p>
<p>左邊最大的框框是原問題，將原問題的數字進行分類後再統計，分類後的每一個框框都是一個子問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer4.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/110/11038.html">11038</a></p>
<p class="t">Recursive Method</p>
<p>在分治法當中，亦得遞迴地分割問題，其實就是遞歸法。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer5.png">
<p>程式碼細分為三個階段： Divide 、 Conquer 、 Combine 。 Divide 階段是把原問題分割成小問題， Conquer 階段是解決小問題， Combine 階段是運用小問題的解答，整理出原問題的解答。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="word">divide_and_conquer</span><span>(原問題)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comments">/*&nbsp;Divide&nbsp;*/</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;先將原問題分割成許多小問題;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comments">/*&nbsp;Conquer&nbsp;*/</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;遞迴呼叫函式，求得子問題的解;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;解答</span><span class="value">1</span><span>&nbsp;=&nbsp;</span><span class="word">divide_and_conquer</span><span>(子問題</span><span class="value">1</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;解答</span><span class="value">2</span><span>&nbsp;=&nbsp;</span><span class="word">divide_and_conquer</span><span>(子問題</span><span class="value">2</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;......</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comments">/*&nbsp;Combine&nbsp;*/</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;用小問題的解答，算出原問題的解答;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;原問題解答&nbsp;=&nbsp;解答</span><span class="value">1</span><span>&nbsp;+&nbsp;解答</span><span class="value">2</span><span>&nbsp;+&nbsp;......;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;原問題解答;</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/6/620.html">620</a> <a href="http://uva.onlinejudge.org/external/101/10101.html">10101</a> <a href="http://uva.onlinejudge.org/external/101/10144.html">10144</a> <a href="http://uva.onlinejudge.org/external/109/10998.html">10998</a></p>
<p class="t">範例：合併排序法（ Merge Sort ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer7.png">
<p>Divide 階段：資料分割成兩堆。</p>
<p>Conquer 階段：兩堆資料各自從事 Merge Sort 。</p>
<p>Combine 階段：兩堆已排序過的資料，合併成一堆。</p>
<p class="t">範例：快速排序法（ Quicksort ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer8.png">
<p>Divide 階段：挑選一個數字當作基準，把資料分割成左右兩堆，使得左堆數字小於基準，右堆數字大於基準，基準數字置於左右兩堆中間。</p>
<p>Conquer 階段：左右兩堆資料各自從事 Quicksort 。</p>
<p>Combine 階段：不做任何事。</p>
<p class="t">範例：不重複組合（ Combination ）</p>
<p>從 N 個人抓 M 個人出來組團，有哪些組合方式呢？</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer9.png">
<p>N 個人當中的其中一個人，叫做甲君好了，我們將原問題分割成兩種情形：甲君在團中、甲君不在團中。</p>
<pre>甲君在團中，演變成剩下N-1個人要再抓M-1個人出來組團。
甲君不在團中，演變成剩下N-1個人仍要抓M個人出來組團。
</pre>
<p>綜合這兩個子問題的組合方式，就得到答案。</p>
<p class="t">範例：河內塔（ Tower of Hanoi ）</p>
<p>三根柱子、一疊盤子，盤子大小皆不同（盤子中間還得打個洞，這樣盤子才能穿在柱子上）。所有盤子都疊在第一根柱子，大的在下面，小的在上面。現在要將整疊盤子移到第三根柱子，並且保持原來的大小順序。每次只能搬動一個盤子到別根柱子，而且大的盤子一定要保持在小的盤子下面。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer10.png">
<p>想要移動最大的盤子到第三根柱子，必須先挪開上方整疊盤子到第二根柱子。移動上方整疊盤子，正好與原問題相同、而少了一個盤子，可以視作子問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer11.png">
<p>嘗試以此子問題解決原問題，解題過程因而簡化成三個步驟：一、上方整疊盤子移到第二根柱子；二、最大的盤子移到第三根柱子；三、方才的整疊盤子移到第三根柱子。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer12.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">p</span><span>[</span><span class="value">5</span><span>];&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;盤子所在的柱子。第i小的盤子放在第p[i]根柱子。</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">move</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>)&nbsp;</span><span class="comment">//&nbsp;將前n小的盤子移到第t根柱子</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>)&nbsp;</span><span class="keyword">return</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">move</span><span>(</span><span class="word">n</span><span>-</span><span class="value">1</span><span>,&nbsp;</span><span class="value">6</span><span>-</span><span class="word">p</span><span>[</span><span class="word">n</span><span>]-</span><span class="word">t</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"從"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">p</span><span>[</span><span class="word">n</span><span>]&nbsp;&lt;&lt;&nbsp;</span><span class="string">"移到"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">p</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">move</span><span>(</span><span class="word">n</span><span>-</span><span class="value">1</span><span>,&nbsp;</span><span class="word">t</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">tower_of_hanoi</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;五個盤子，都疊在第一根柱子。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;=</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">p</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;五個盤子，從第一根柱子移到第三根柱子。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">move</span><span>(</span><span class="value">5</span><span>,&nbsp;</span><span class="value">3</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/100/10017.html">10017</a></p>
<p class="t">Prune and Search</p>
<p>「修剪搜尋法」是分治法的特例。去除不重要的子問題，只搜尋重要的子問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer13.png">
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/9/920.html">920</a></p>
<p class="t">範例：二分搜尋法（ Binary Search ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer14.png">
<p>這是在已排序陣列裡面搜尋數字的方法。陣列由中央切成兩邊，一邊數字較小、一邊數字較大。這兩邊一定有一邊不是我們所要的，可以去除，只需要繼續尋找其中一邊。</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/100/10077.html">10077</a></p>
<p class="t">範例：尋找陣列裡第 k 大的數</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer15.png">
<p>運用 Quicksort 的分割手法，把陣列切成兩邊，一邊數字較小、一邊數字較大。這兩邊一定有一邊不是我們所要的，可以去除，只需要繼續尋找其中一邊。</p>
<p class="t">範例：尋找假幣（ Counterfeit Coin Problem ）</p>
<p>一堆硬幣，當中一枚硬幣是假幣，重量比真幣輕，肉眼無法分辨差異。手邊的工具僅有一台天平，但沒有砝碼，該如何藉由天平判斷假幣？</p>
<p>當硬幣總數為一，那麼該幣就是假幣。當硬幣總數為二，則兩枚硬幣分別放在天平兩端秤重，較輕的一端就是假幣。當硬幣總數為三以上，一定有辦法找出假幣，以下介紹兩種策略。</p>
<p>採用遞增法。每次取兩枚硬幣，放在天平兩端秤重。當天平平衡，表示這兩枚硬幣都是真幣，接著繼續處理剩餘硬幣。當天平傾斜，比較輕的硬幣就是假幣。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer16.png">
<p>採用分治法。兩枚硬幣放在天平兩端秤重，當天平平衡，表示這兩枚硬幣都是真幣。接著只剩下 N-2 枚硬幣要尋找假幣 ── 問題遞迴縮小了！</p>
<p>剩下 N-2 枚，太多了一點。一次取多一點硬幣，同時放在天平兩端秤，問題就能縮小更多了！</p>
<p>把所有硬幣平均分成三份，取兩份放在天平兩端秤重。當天平平衡，表示剩下的一份含有假幣，問題一次便縮小為 1/3 。當天平傾斜，表示比較輕的一份含有假幣，問題一次便縮小為 1/3 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/DivideAndConquer17.png">
<p>讀者可以想想看：如果硬幣數量不是三的倍數怎麼辦？如果一開始不知道假幣與真幣孰輕孰重怎麼辦？</p>
<p class="e">UVa <a href="http://uva.onlinejudge.org/external/127/12732.html">12732</a> <a href="http://uva.onlinejudge.org/external/127/12733.html">12733</a></p>
<p class="t">Marriage before Conquest</p>
<pre> Yu-Han 說道：
 2014/1/11 at 9:00
 
分享一下最近看到的技巧 – “marriage-before-conquest"
在做Divide and conquer中，遞迴求解的部份解答可以用來加速剩下的計算。

一個簡單的例子是
http://www.geeksforgeeks.org/sorted-linked-list-to-balanced-bst/
把已排序的單向鏈結串列轉成平衡的二元搜尋樹。

如果是用很直接的找中點然後分半遞迴求解，
時間複雜度是O(n lg n)，
但是實際上建立完左半邊的時候，就可以直接得到中點，
因此就可以使得時間複雜度降為O(n)。

一個稍困難的例子是，給定二維空間中的點集合S，
我們稱點p為S中的maxima，
如果在S中沒有任何點的x座標以及y座標同時都大於點p的x座標與y座標。
問題是要把所有maxima找出來。

基於Divide and conquer的技巧，利用x座標等分成兩半分別找出maxima，
然後把在子問題中是maxima但是在考慮整體時不是maxima的點刪除，
如此的時間複雜度可達到O(n lg n)。

使用marriage-before-coquest的技巧，
可以把時間複雜度降到O(n lg h)，h為maxima的個數。
方法是先計算右半邊的maxima，
然後利用右半邊的maxima把左半邊中不可能成為全體的maxima的點先刪除，
最後才計算左半邊。

同樣的技巧也可以用在convex hull上達到O(n lg h)的時間複雜度。

 Yu-Han 說道：
 2014/1/11 at 23:51

以convex hull為例子的話，
是prune-and-search和marriage before conquest的綜合應用。
當有了右半邊的convex hull的點，要刪除左半邊不可能為convex hull的點時，
需要使用線性規劃（利用prune-and-search），
或是自己設計一個prune-and-search的方法。
所以marriage before conquest和prune-and-search是不同的技巧。

除了這三個例子之外，我也找不太到其他marriage-before-conquest的範例了。
</pre>

</div></div><div class="a" id="8"><div class="h">
<p class="b">Scaling Algorithm</p>
<p class="w">古之欲明明德於天下者，先治其國。　　　　</p>
<p class="w">　　　　　欲治其國者，先齊其家。　　　　</p>
<p class="w">　　　　　欲齊其家者，先修其身。　　　　</p>
<p class="w">　　　　　欲修其身者，先正其心。《禮記》</p>
</div><div class="c">
<p class="t">Scaling Algorithm</p>
<p>「縮放演算法」。將數值拆解為不同數量級，每個數量級分別計算一次答案，並且累計每次計算成果。</p>
<p class="t">範例：乘法</p>
<p>數量級從小到大：乘數拆解為不同數量級，先以個位數相乘一次，再以十位數相乘一次， …… ，再以最高位數相乘一次，累加起來，得到正確結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Scaling1.png">
<p class="t">範例：基數排序法（ Radix Sort ）</p>
<p>數量級從小到大：所有數字先以個位數排序一次，再以十位數排序一次， …… ，再以最高位數排序一次，得到正確結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Scaling2.png">
<p>數量級從大到小：所有數字先以最高位數排序一次，再以前兩高位數排序一次， …… ，再以全部位數排序一次，得到正確結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Scaling3.png">
<p>改善計數排序法的效率，不必建立一長串陣列。</p>
<p class="t">範例：多重解析度字串搜尋（ Multiscale String Searching ）</p>
<p>從宏觀到微觀，從粗糙到細膩。短字串跳 N 格實施比對。若足夠相似，才跳 N/2 格實施比對。 …… 。若足夠相似，才跳 1 格實施比對。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Scaling4.png">
<p>改善字串搜尋的效率，不必每次都比對一大串字元。</p>
<p class="t">範例： Shell 排序法（ Shell Sort ）</p>
<p>從宏觀到微觀，從粗糙到細膩。跳 N 個數字為同一組，每組分別實施插入排序法。跳 N/2 個數字為同一組，各組分別實施插入排序法。 …… 。跳 1 個數字為同一組，所有數字實施插入排序法。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Scaling5.png">
<p>改善插入排序法的效率，不必每次都挪動一大串數字。</p>

</div></div><div class="a" id="9"><div class="h">
<p class="b">External Memory Algorithm</p>
<p class="w">士農工商四民者，國之石，民也。　　　　　　</p>
<p class="w">不可使雜處，雜處則其言哤，其事亂。《管子》</p>
</div><div class="c">
<p class="t">Cache-oblivious Algorithm</p>
<p>儲存容量大，存取時間長；儲存容量小，存取時間短。魚與熊掌不可兼得。自然而然形成階層式架構：暫存器、快取、記憶體、硬碟，儲存容量越來越大，存取時間越來越久。</p>
<p>需要計算的變數，儲存在暫存器；不在暫存器，就找快取；不在快取，就找記憶體；不在記憶體，就找硬碟。</p>
<p>簡中譯作寄存器、缓存、内存、硬盘。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache1.png">
<p>對中央處理器來說，最花時間的動作，不是運算，而是從記憶體讀入資料到快取、從快取寫出資料到記憶體。</p>
<p>每當變數不在快取，就從記憶體載入資料到快取，載入變數所在的那一個區塊。區塊大小等於通道容量，區塊位置似乎固定不變。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache2.png">
<p>「快取無視演算法」目的是減少載入次數。實際的通道容量、快取容量，端看硬體規格，無法預知。我們只能盡量集中變數，以減少載入次數。</p>
<p>「快取無視演算法」的名稱由來是：考慮記憶體與快取，但是不知道通道容量、快取容量。以現代眼光來看，顯然詞不達意。</p>
<p class="t">範例：陣列與串列</p>
<p>陣列在記憶體裡是連續的。串列在記憶體裡通常不是連續的。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache3.png">
<p>枚舉陣列元素，偶爾載入區塊，不會重複載入，速度快。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache4.png">
<p>枚舉串列元素，經常載入區塊，甚至重複載入，速度慢。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache5.png">
<p class="t">範例：變數型態</p>
<p>int = 4 byte ， short = 2 byte ，雖然儲存空間不一樣大，但是加法運算卻一樣快，都是一單位時間。</p>
<p>雖然兩數加法一樣快，但是多數總和就不一樣快。 short array 空間小，區塊少，速度快。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">short</span><span>&nbsp;</span><span class="word">sum</span><span>(</span><span class="type">short</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">1000</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;short&nbsp;array，空間小，區塊少，速度快。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">short</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">1000</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;int&nbsp;array，空間大，區塊多，速度慢。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：二維陣列的總和</p>
<p>依序枚舉二維陣列的所有元素，累計總和。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache7.png">
<p>枚舉橫條元素，偶爾載入區塊，不會重複載入，速度快。</p>
<p>枚舉直條元素，經常載入區塊，甚至重複載入，速度慢。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">1000</span><span>][</span><span class="value">1000</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;橫條為主，速度快。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;外層枚舉每一個橫條，內層枚舉一個橫條的每一個元素。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">1000</span><span>][</span><span class="value">1000</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;直條為主，速度慢。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;外層枚舉每一個直條，內層枚舉一個直條的每一個元素。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">1000</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">n</span><span>&nbsp;+=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：小畫家倒墨水（ Flood Fill Algorithm ）</p>
<p>建立二維陣列，一一對應盤面格子。區塊形成橫條。一個格子，左右通常是相同區塊，上下通常是不同區塊。墨水填充過程，經常載入區塊。</p>
<p>
建立一維陣列，重新對應盤面格子。區塊從橫條變方塊，減少載入次數。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache8.png">
<p>
想要改變區塊形狀，就要改變陣列索引值與盤面格子的對應。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Cache9.png">
<p class="t">External Memory Algorithm</p>
<p>方才討論了快取與記憶體的讀寫。「外部記憶體演算法」則是考慮記憶體與硬碟的讀寫。</p>
<p>實務上，硬碟也可以是光碟、隨身碟、雲碟。簡中譯作光盘、闪存盘、云盘。</p>
<p class="t">範例：動態陣列（ Dynamic Array ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory1.png">
<p>不知資料多寡，只好準備一塊記憶體空間，暫存資料。每當空間滿了，才擴充空間。</p>
<p>C++ 程式語言的標準函式庫的 vector ，即是動態陣列。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">dynamic_array</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">v</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">v</span><span>.</span><span class="word">push</span><span>(</span><span class="value">3</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">v</span><span>.</span><span class="word">push</span><span>(</span><span class="value">6</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">v</span><span>.</span><span class="word">push</span><span>(</span><span class="value">9</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">v</span><span>.</span><span class="word">push</span><span>(-</span><span class="value">8</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">v</span><span>.</span><span class="word">push</span><span>(</span><span class="value">1</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：緩衝區（ Buffer ）</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory2.png">
<p>不知資料生成時刻，只好準備一塊記憶體空間，暫存資料。每當資料夠了，才處理資料。</p>
<p>printf/scanf 、 cin/cout ，內含緩衝區。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">print</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">printf</span><span>(</span><span class="string">"It's&nbsp;a&nbsp;pencil."</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">flush</span><span>(</span><span class="word">stdout</span><span>);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;立即清空緩衝區</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">setbuf</span><span>(</span><span class="word">stdout</span><span>,&nbsp;</span><span class="word">NULL</span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;不使用緩衝區</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"It's&nbsp;a&nbsp;pencil."</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">flush</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;立即清空緩衝區</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">endl</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;等同&nbsp;cout&nbsp;&lt;&lt;&nbsp;'\n'&nbsp;&lt;&lt;&nbsp;flush;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>.</span><span class="word">unitbuf</span><span>();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;每次都清空緩衝區（不使用緩衝區）</span></li><li><span>};</span></li></ol></div>
<p class="t">範例：合併排序法（ Merge Sort ）</p>
<p>排序硬碟資料。</p>
<p>一、資料分段排序：每段資料符合記憶體容量，假設分成了 k 段。 k 段資料分別讀入、排序、寫出。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory3.png">
<p>二、資料合併排序：記憶體配置 k 塊輸入、 1 塊輸出緩衝區。 k 段資料合併成排序資料。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory4.png">
<p>在步驟一，當資料分段太多，則遞迴處理。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory5.png">
<p class="t">範例：桶子排序法（ Bucket Sort ）</p>
<p>排序硬碟資料。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory6.png">
<p>一、資料分類排序：記憶體配置 1 塊輸入、 k 塊輸出緩衝區。一段資料分散於 k 個桶子，依照數字大小。</p>
<p>二、資料分段排序： k 段資料分別讀入、排序、寫出。</p>
<p>在步驟二，當一段資料太長，則遞迴處理。</p>
<p class="t">範例：選擇排序法暨二分搜尋法<span style="letter-spacing:-1px">（ Selection Sort &amp; Binary Search ）</span></p>
<p>不排序硬碟資料，不使用其他硬碟空間，直接輸出排序結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Memory7.png">
<p>篩選最小的數字們、排序、輸出。以二分搜尋法，調整篩選範圍。如果硬碟未讀完、緩衝區已滿溢，則減少篩選範圍，重新來過；如果硬碟已讀完，緩衝區未滿溢，則排序、輸出、更新篩選範圍。</p>
<p>小心處理同一數字數量非常多的情況。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">MIN</span><span>&nbsp;=&nbsp;-</span><span class="value">1000000000</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;數字的最小值</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">MAX</span><span>&nbsp;=&nbsp;+</span><span class="value">1000000000</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;數字的最大值</span></li><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">M</span><span>&nbsp;=&nbsp;(</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="value">18</span><span>);</span></li><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">N</span><span>&nbsp;=&nbsp;(</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="value">19</span><span>);</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">in</span><span>[</span><span class="word">M</span><span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;篩選前的數字</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">out</span><span>[</span><span class="word">N</span><span>];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;篩選後的數字</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;讀取檔案裡面所有數字，篩選大於等於L、小於等於R的數字。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">read</span><span>(</span><span class="word">ifstream</span><span>&amp;&nbsp;</span><span class="word">fin</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">L</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">R</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">clear</span><span>();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;回復讀寫狀態</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">seekg</span><span>(</span><span class="value">0</span><span>,&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">beg</span><span>);&nbsp;&nbsp;</span><span class="comment">//&nbsp;回到檔案開頭</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="keyword">true</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;讀取檔案裡面的數字</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">read</span><span>((</span><span class="type">char</span><span>*)</span><span class="word">in</span><span>,&nbsp;</span><span class="keyword">sizeof</span><span>(</span><span class="type">int</span><span>)*</span><span class="word">M</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">gcount</span><span>()&nbsp;/&nbsp;</span><span class="keyword">sizeof</span><span>(</span><span class="type">int</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">c</span><span>&nbsp;&lt;=&nbsp;</span><span class="value">0</span><span>)&nbsp;</span><span class="keyword">break</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;沒有數字就結束</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;篩選數字</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&nbsp;&lt;&nbsp;</span><span class="word">c</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">in</span><span>[</span><span class="word">i</span><span>]&nbsp;&gt;=&nbsp;</span><span class="word">L</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">in</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;=&nbsp;</span><span class="word">R</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">L</span><span>&nbsp;==&nbsp;</span><span class="word">R</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&lt;&nbsp;</span><span class="word">N</span><span>)&nbsp;</span><span class="word">out</span><span>[</span><span class="word">n</span><span>++]&nbsp;=&nbsp;</span><span class="word">in</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="word">n</span><span>++;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;同一數字出現許多次</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&lt;&nbsp;</span><span class="word">N</span><span>)&nbsp;</span><span class="word">out</span><span>[</span><span class="word">n</span><span>++]&nbsp;=&nbsp;</span><span class="word">in</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;&nbsp;</span><span class="comment">//&nbsp;存不下</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">n</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;選擇排序法暨二分搜尋法</span></li><li><span class="comment">//&nbsp;屢次從檔案裡面篩選最小的數字們、排序、輸出。</span></li><li><span class="comment">//&nbsp;如果記憶體滿溢，則將篩選範圍減半，重新來過。</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">sort_file</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">ifstream</span><span>&nbsp;</span><span class="word">fin</span><span>(</span><span class="string">"number.in"</span><span>,&nbsp;</span><span class="word">ios</span><span>::</span><span class="word">binary</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">ofstream</span><span>&nbsp;</span><span class="word">fout</span><span>(</span><span class="string">"number.out"</span><span>,&nbsp;</span><span class="word">ios</span><span>::</span><span class="word">binary</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;選擇排序法暨二分搜尋法</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">L</span><span>&nbsp;=&nbsp;</span><span class="word">MIN</span><span>,&nbsp;</span><span class="word">R</span><span>&nbsp;=&nbsp;</span><span class="word">MAX</span><span>;&nbsp;</span><span class="word">L</span><span>&nbsp;&lt;=&nbsp;</span><span class="word">R</span><span>;&nbsp;)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">M</span><span>&nbsp;=&nbsp;(</span><span class="word">L</span><span>&nbsp;+&nbsp;</span><span class="word">R</span><span>)&nbsp;/&nbsp;</span><span class="value">2</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>&nbsp;=&nbsp;</span><span class="word">read</span><span>(</span><span class="word">fin</span><span>,&nbsp;</span><span class="word">L</span><span>,&nbsp;</span><span class="word">M</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&lt;&nbsp;</span><span class="value">0</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;記憶體滿溢。篩選範圍減半。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">R</span><span>&nbsp;=&nbsp;</span><span class="word">M</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;==&nbsp;</span><span class="value">0</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;查無數字。處理另一半範圍。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">L</span><span>&nbsp;=&nbsp;</span><span class="word">M</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;記憶體未滿溢。排序。輸出。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">L</span><span>&nbsp;==&nbsp;</span><span class="word">M</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(&nbsp;;&nbsp;</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">n</span><span>&nbsp;-=&nbsp;</span><span class="word">N</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>.</span><span class="word">write</span><span>((</span><span class="type">char</span><span>*)</span><span class="word">out</span><span>,&nbsp;</span><span class="keyword">sizeof</span><span>(</span><span class="type">int</span><span>)*</span><span class="word">N</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>.</span><span class="word">write</span><span>((</span><span class="type">char</span><span>*)</span><span class="word">out</span><span>,&nbsp;</span><span class="keyword">sizeof</span><span>(</span><span class="type">int</span><span>)*</span><span class="word">n</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">else</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">out</span><span>,&nbsp;</span><span class="word">out</span><span>&nbsp;+&nbsp;</span><span class="word">n</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>.</span><span class="word">write</span><span>((</span><span class="type">char</span><span>*)</span><span class="word">out</span><span>,&nbsp;</span><span class="keyword">sizeof</span><span>(</span><span class="type">int</span><span>)*</span><span class="word">n</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;處理其餘範圍</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">L</span><span>&nbsp;=&nbsp;</span><span class="word">M</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">R</span><span>&nbsp;=&nbsp;</span><span class="word">MAX</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fin</span><span>.</span><span class="word">close</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">fout</span><span>.</span><span class="word">close</span><span>();</span></li><li><span>}</span></li></ol></div>

</div></div><div class="a" id="10"><div class="h">
<p class="b">Parallel Algorithm <br>（ Under Construction! ）</p>
<p class="w">眾心成城，眾口鑠金。《國語》</p>
</div><div class="c">
<p class="t">Parallel Algorithm</p>
<p>「循序 Sequential 」就是逐一計算，「平行 Parallel 」就是一齊計算，兩者是相對概念。</p>
<p>「平行演算法」。當計算順序無所謂時，就可以使用多個計算器一齊計算。優點是減少計算時間，缺點是增加硬體、增加電力。</p>
<p>計算器有兩種類型：多個計算器只能一齊執行相同指令（例如 GPU ），多個計算器可以分頭執行不同指令（例如多核心 CPU ）。前者富含巧思，後者缺乏變化，所以我們只談前者。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel1.png">
<pre>kernel launch overhead
shared memory bank conflicts
branch divergence overhead
</pre>
<p>因為作業系統建立執行緒需要大量時間與空間，所以平行計算不一定比循序計算好。程式員必須自行取捨。</p>
<p>一份記憶體一齊傳遞資料給各個計算器，多個計算器一齊計算，多個計算器一齊傳遞資料給一份記憶體。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel2.png">
<p class="t">範例：複製字串</p>
<p>理論：各個字元分頭複製，時間複雜度從 O(N) 變 O(1) 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel2.png">
<p>實務：字串切成數段，分頭複製。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">copy</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">s</span><span>[</span><span class="value">15</span><span>]&nbsp;=&nbsp;</span><span class="string">"incremental"</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">char</span><span>&nbsp;</span><span class="word">t</span><span>[</span><span class="value">15</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span class="macro">&nbsp;&nbsp;&nbsp;&nbsp;#pragma&nbsp;omp&nbsp;parallel&nbsp;for</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">s</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="char">'\0'</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"原本字串"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">s</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"複製之後的字串"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：加總數字</p>
<p>理論：數字雙雙相加，時間複雜度從 O(N) 變 O(logN) 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel3.png">
<p>實務：陣列切成數段，分頭計算總和。最後累加各段總和。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel4.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">summation</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="value">5</span><span>]&nbsp;=&nbsp;{</span><span class="value">3</span><span>,&nbsp;</span><span class="value">6</span><span>,&nbsp;</span><span class="value">9</span><span>,&nbsp;-</span><span class="value">8</span><span>,&nbsp;</span><span class="value">1</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;陣列切成兩段，分頭計算總和。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span class="macro">&nbsp;&nbsp;&nbsp;&nbsp;#pragma&nbsp;omp&nbsp;parallel&nbsp;for&nbsp;num_thread(2)&nbsp;schedule(static)&nbsp;reduction(+:sum)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sum</span><span>&nbsp;=&nbsp;</span><span class="word">sum</span><span>&nbsp;+&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="string">"總和是"</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">sum</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：矩陣相乘</p>
<p>理論：簡單起見，討論 N×N 方陣。兩層的平行化，外層是乘積矩陣的每一個元素，內層是兩串數列相乘，時間複雜度從 O(N³) 變 O(1) 。</p>
<p>實務：執行緒數量高達 O(N³) ，不但跟循序計算沒兩樣，而且還得額外浪費設置執行緒的時間與空間，弄巧成拙、過猶不及。只平行化每一個元素，放棄平行化數列相乘。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">matrix_multiply</span><span>(</span><span class="type">float</span><span>&nbsp;</span><span class="word">A</span><span>[</span><span class="word">N</span><span>*</span><span class="word">N</span><span>],&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">B</span><span>[</span><span class="word">N</span><span>*</span><span class="word">N</span><span>],&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">C</span><span>[</span><span class="word">N</span><span>*</span><span class="word">N</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>,&nbsp;</span><span class="word">j</span><span>,&nbsp;</span><span class="word">k</span><span>;</span></li><li><span class="macro">&nbsp;&nbsp;&nbsp;&nbsp;#pragma&nbsp;omp&nbsp;parallel&nbsp;for&nbsp;collapse(2)&nbsp;private(k)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">j</span><span>++)&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;放棄數列相乘的平行化</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">k</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">k</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">k</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">C</span><span>[</span><span class="word">N</span><span>*</span><span class="word">i</span><span>+</span><span class="word">j</span><span>]&nbsp;+=&nbsp;</span><span class="word">A</span><span>[</span><span class="word">N</span><span>*</span><span class="word">i</span><span>+</span><span class="word">k</span><span>]&nbsp;*&nbsp;</span><span class="word">B</span><span>[</span><span class="word">N</span><span>*</span><span class="word">k</span><span>+</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>相同資料重複傳遞很多份到各個執行緒，改為每次計算一塊區域。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">N</span><span>,&nbsp;</span><span class="word">P</span><span>,&nbsp;</span><span class="word">M</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;matrix&nbsp;dimensions</span></li><li><span class="type">float</span><span>&nbsp;</span><span class="word">A</span><span>[</span><span class="word">N</span><span>*</span><span class="word">P</span><span>],&nbsp;</span><span class="word">B</span><span>[</span><span class="word">P</span><span>*</span><span class="word">M</span><span>],&nbsp;</span><span class="word">C</span><span>[</span><span class="word">N</span><span>*</span><span class="word">M</span><span>];</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">NB</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;number&nbsp;of&nbsp;blocks</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">Nb</span><span>&nbsp;=&nbsp;</span><span class="word">N</span><span>&nbsp;/&nbsp;</span><span class="word">NB</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;block&nbsp;dimensions</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">Pb</span><span>&nbsp;=&nbsp;</span><span class="word">P</span><span>&nbsp;/&nbsp;</span><span class="word">NB</span><span>;</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">Mb</span><span>&nbsp;=&nbsp;</span><span class="word">M</span><span>&nbsp;/&nbsp;</span><span class="word">NB</span><span>;</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">clear_block</span><span>(</span><span class="type">float</span><span>*&nbsp;</span><span class="word">C</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">gapC</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">Nb</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">Mb</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">Nb</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">Mb</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;C[i][j]&nbsp;=&nbsp;0;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">C</span><span>[</span><span class="word">i</span><span>&nbsp;*&nbsp;</span><span class="word">gapC</span><span>&nbsp;+&nbsp;</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="value">0.0</span><span>;</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">multiply_block</span><span>(</span><span class="type">float</span><span>*&nbsp;</span><span class="word">A</span><span>,&nbsp;</span><span class="type">float</span><span>*&nbsp;</span><span class="word">B</span><span>,&nbsp;</span><span class="type">float</span><span>*&nbsp;</span><span class="word">C</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">gapA</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">gapB</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">gapC</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">M</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;C[i][j]&nbsp;+=&nbsp;A[i][k]&nbsp;*&nbsp;B[k][j];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>&nbsp;</span><span class="word">t</span><span>&nbsp;=&nbsp;</span><span class="word">C</span><span>[</span><span class="word">i</span><span>*</span><span class="word">gapC</span><span>&nbsp;+&nbsp;</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">k</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">k</span><span>&lt;</span><span class="word">P</span><span>;&nbsp;</span><span class="word">k</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">t</span><span>&nbsp;+=&nbsp;</span><span class="word">A</span><span>[</span><span class="word">i</span><span>*</span><span class="word">gapA</span><span>&nbsp;+&nbsp;</span><span class="word">k</span><span>]&nbsp;*&nbsp;</span><span class="word">B</span><span>[</span><span class="word">k</span><span>*</span><span class="word">gapB</span><span>&nbsp;+&nbsp;</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">C</span><span>[</span><span class="word">i</span><span>*</span><span class="word">gapC</span><span>&nbsp;+&nbsp;</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="word">t</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">matrix_multiply</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">ib</span><span>,&nbsp;</span><span class="word">jb</span><span>,&nbsp;</span><span class="word">kb</span><span>;</span></li><li><span class="macro">&nbsp;&nbsp;&nbsp;&nbsp;#pragma&nbsp;omp&nbsp;parallel&nbsp;for&nbsp;private(jb,kb)&nbsp;schedule(static)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">ib</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">ib</span><span>&lt;</span><span class="word">NB</span><span>;&nbsp;</span><span class="word">ib</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">jb</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">jb</span><span>&lt;</span><span class="word">NB</span><span>;&nbsp;</span><span class="word">jb</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;Cb[ib][jb]&nbsp;=&nbsp;0;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">float</span><span>*&nbsp;</span><span class="word">ptrC</span><span>&nbsp;=&nbsp;</span><span class="word">C</span><span>&nbsp;+&nbsp;</span><span class="word">ib</span><span>&nbsp;*&nbsp;</span><span class="word">Nb</span><span>&nbsp;*&nbsp;</span><span class="word">M</span><span>&nbsp;+&nbsp;</span><span class="word">jb</span><span>&nbsp;*&nbsp;</span><span class="word">Mb</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">clear_block</span><span>(</span><span class="word">ptrC</span><span>,&nbsp;</span><span class="word">M</span><span>,&nbsp;</span><span class="word">Nb</span><span>,&nbsp;</span><span class="word">Mb</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;Cb[ib][jb]&nbsp;=&nbsp;Ab[ib][kb]&nbsp;*&nbsp;Bb[kb][jb];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="word">kb</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">kb</span><span>&lt;</span><span class="word">NB</span><span>;&nbsp;</span><span class="word">kb</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">multiply_block</span><span>(</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">A</span><span>&nbsp;+&nbsp;</span><span class="word">ib</span><span>&nbsp;*&nbsp;</span><span class="word">Nb</span><span>&nbsp;*&nbsp;</span><span class="word">P</span><span>&nbsp;+&nbsp;</span><span class="word">kb</span><span>&nbsp;*&nbsp;</span><span class="word">Pb</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">B</span><span>&nbsp;+&nbsp;</span><span class="word">kb</span><span>&nbsp;*&nbsp;</span><span class="word">Pb</span><span>&nbsp;*&nbsp;</span><span class="word">M</span><span>&nbsp;+&nbsp;</span><span class="word">jb</span><span>&nbsp;*&nbsp;</span><span class="word">Mb</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">ptrC</span><span>,</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">P</span><span>,&nbsp;</span><span class="word">M</span><span>,&nbsp;</span><span class="word">M</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：生命遊戲</p>
<p>理論：兩層的平行化，外層是地圖的每一個細胞，內層是八個鄰居細胞數量總和，時間複雜度從 O(XY⋅8) 變 O(log8) 。</p>
<p>實務：只平行化每一個細胞，放棄平行化細胞求和。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel7.png">
<p class="t">範例： Hamilton Path</p>
<p>理論：如果能夠建立 N! 個執行緒，時間複雜度就從 O(N!) 變 O(N)── 可是要去哪裡生那麼多個執行緒？即便是平行化也無法快速解決 NP-Complete 問題。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Parallel8.png">
<p class="t">Distributed Algorithm</p>
<p>「分散式演算法」。 Parallel Algorithm 和 External Memory Algorithm 合體。</p>
<p>https://paper.dropbox.com/doc/Google-DCJ--MnMwtOSSmcM4ZaEzFOpNF</p>
<p class="t">範例：哲學家用餐問題（ Dining Philosophers Problem ）</p>
<p>資源控管。</p>
<p>Paxos 。</p>
<p class="t">範例：多工（ Multiplexing ）</p>
<p>通道控管。</p>
<p>CSMA</p>
<p>https://www.zhihu.com/question/26743389/answer/33983737</p>
<p class="t">範例：共時（ Clock Synchronization ）</p>
<p>時間同步。</p>
<p>https://en.wikipedia.org/wiki/Clock_synchronization</p>
<p class="t">範例：尚無正式翻譯（ Sketching ）</p>
<p>分配律。協作。</p>
<p class="t">範例：尚無正式翻譯（ Placement ）</p>
<p>排程。</p>

</div></div><div class="a" id="11"><div class="h">
<p class="b">Randomized Algorithm</p>
<p class="w">有過物者必濟，故受之以既濟。《易傳》</p>
<p class="w">致中和，天地位焉，萬物育焉。《禮記》</p>
</div><div class="c">
<p class="t">Randomized Algorithm</p>
<p>「隨機化演算法」。隨便的計算數值、計算順序。難得糊塗。</p>
<p class="t">範例：隨機數字（ Random Number ）</p>
<p>隨機數字又稱亂數。亂七八糟、毫無章法、什麼都有可能。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized1.png">
<p>如何製造亂數呢？沒人知道！數學家尚未釐清「亂」是什麼。計算學家則創造了形形色色的算式，偽造亂數，聊勝於無。</p>
<p>簡易算式：乘上一數、加上一數，遞推下去。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">rand</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;使用unsigned&nbsp;int，即便溢位也不會當機。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">static</span><span>&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">seed</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;乘上一數、加上一數。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">seed</span><span>&nbsp;=&nbsp;</span><span class="word">seed</span><span>&nbsp;*&nbsp;</span><span class="value">1103515245</span><span class="word">U</span><span>&nbsp;+&nbsp;</span><span class="value">12345</span><span class="word">U</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;符合int上限範圍，得到[0,&nbsp;2³¹-1]之間的亂數。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="type">int</span><span>(</span><span class="word">seed</span><span>&nbsp;%&nbsp;</span><span class="value">2147483648</span><span class="word">U</span><span>);</span></li><li><span>}</span></li></ol></div>
<p>C 程式語言的內建函式庫，已經有亂數了。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">random_number</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;設定亂數表，之後才能使用rand()。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出10個亂數，範圍是整數0到整數4。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;</span><span class="value">5</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：雜湊函數（ Hash Function ）</p>
<p>一種特別的函數：數字變成特定範圍數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized2.png">
<p>雜湊函數應用廣泛，衍生許多變化，其中一種經典變化是：數字變成特定範圍亂數。隨便導致分散 ── 亂數四散，不會太集中。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">hash</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">range</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以給定的資料，製造一個亂數，位於[0,&nbsp;range-1]。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">hash</span><span>&nbsp;=&nbsp;</span><span class="word">num</span><span>;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;num是負數也沒關係</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">hash</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>&nbsp;*&nbsp;</span><span class="value">1103515245</span><span class="word">U</span><span>&nbsp;+&nbsp;</span><span class="value">12345</span><span class="word">U</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="type">int</span><span>(</span><span class="word">hash</span><span>&nbsp;%&nbsp;</span><span class="value">2147483648</span><span class="word">U</span><span>)&nbsp;%&nbsp;</span><span class="word">range</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>C++ 程式語言的內建函式庫，已經有雜湊函數了，但是不是亂數版本。不會變成亂數，而是變成原本數字，喜感十足。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">hash_function</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出數字0到9的雜湊值，位於[0,&nbsp;2³¹-1]。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">hash</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">int_hash</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">int_hash</span><span>(</span><span class="word">i</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出數字0到9的雜湊值，位於[0,&nbsp;2³¹-1]。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">hash</span><span>&lt;</span><span class="type">int</span><span>&gt;{}(</span><span class="word">i</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：雜湊表（ Hash Table ）</p>
<p>以簡短陣列儲存資料，以雜湊函數決定儲存位置。隨便導致分散 ── 資料四散，不會太集中。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized3.png">
<p>優點是搜尋迅速，只需瀏覽少數資料，不必瀏覽全部資料。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">range</span><span>&nbsp;=&nbsp;</span><span class="value">5</span><span>;</span></li><li>&nbsp;</li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">add_number</span><span>(</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&amp;&nbsp;</span><span class="word">table</span><span>[</span><span class="word">range</span><span>],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以雜湊函數決定存放位置</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">num</span><span>,&nbsp;</span><span class="word">range</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;儲存至陣列</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">table</span><span>[</span><span class="word">h</span><span>].</span><span class="word">push_back</span><span>(</span><span class="word">num</span><span>);</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">find_number</span><span>(</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&amp;&nbsp;</span><span class="word">table</span><span>[</span><span class="word">range</span><span>],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;只需瀏覽少數資料，不必瀏覽全部資料。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">num</span><span>,&nbsp;</span><span class="word">range</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">auto</span><span>&nbsp;</span><span class="word">x</span><span>:&nbsp;</span><span class="word">table</span><span>[</span><span class="word">h</span><span>])&nbsp;&nbsp;</span><span class="comment">//&nbsp;窮舉</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">x</span><span>&nbsp;==&nbsp;</span><span class="word">num</span><span>)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;搜尋</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：均勻隨機數字（ Uniform Random Number ）</p>
<p>亂數雖分散，卻不見得均勻。於是計算學家另行創造算式，偽造均勻亂數。由於需要背景知識，此處不多提。</p>
<p>又亂、又均勻，很匪夷所思吧！譯作亂數真的沒問題嗎？</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized4.png">
<p>C++ 程式語言的內建函式庫，已經有均勻亂數了。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">random_number</span><span>()</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;亂數生成器</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">default_random_engine</span><span>&nbsp;</span><span class="word">g</span><span>;</span></li><li><span>&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;均勻亂數，範圍[0,&nbsp;5)。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">uniform_int_distribution</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">rand</span><span>(</span><span class="value">0</span><span>,&nbsp;</span><span class="value">4</span><span>);</span></li><li><span>&nbsp;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出10個亂數，範圍是整數0到整數4。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">10</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">rand</span><span>(</span><span class="word">g</span><span>);</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：隨機抽樣（ Random Sampling ）</p>
<p>隨機挑選一物，機率均等。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;差勁的做法。不均勻。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">random_sampling</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="word">rand</span><span>()&nbsp;%&nbsp;</span><span class="word">n</span><span>];</span></li><li><span>}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;比較優秀的做法。比較均勻。</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">random_sampling</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">default_random_engine</span><span>&nbsp;</span><span class="word">g</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">uniform_int_distribution</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">rand</span><span>(</span><span class="value">0</span><span>,&nbsp;</span><span class="word">n</span><span>-</span><span class="value">1</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="word">rand</span><span>(</span><span class="word">g</span><span>)];</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：隨機混洗（ Random Shuffle ）</p>
<p>隨機排列，打亂順序，機率均等。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized6.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">random_shuffle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;數字0到n-1</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">permutate</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">permutate</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;逐次挑出一個數字</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;剩下的數字，隨機挑出一個數字（的位置）。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>&nbsp;+&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="word">i</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;挑出的數字，挪至前面。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">permutate</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">permutate</span><span>[</span><span class="word">j</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;重新排列</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">temp</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">temp</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="word">array</span><span>[</span><span class="word">permutate</span><span>[</span><span class="word">i</span><span>]]&nbsp;=&nbsp;</span><span class="word">temp</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>}</span></li></ol></div>
<p>與其先排列再交換，不如直接交換。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized7.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">random_shuffle</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;逐次挑出一個數字</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;剩下的數字，隨機挑出一個數字（的位置）。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">k</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>&nbsp;+&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="word">i</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;挑出的數字，挪至前面。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">array</span><span>[</span><span class="word">k</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：隨機化搜尋法（ Randomized Search ）</p>
<p>隨便挑一個位置，直到找到為止、直到無處可尋為止。程式可能永不結束。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized8.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">randomized_search</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;建立表格，記錄已經找過的位置。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;一開始所有位置皆未找過。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">visit</span><span>[</span><span class="word">n</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;錯誤的實作方式。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;程式可能永不結束，儘管機率趨近0。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">do</span><span>&nbsp;</span><span class="word">j</span><span>&nbsp;=&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;</span><span class="word">n</span><span>;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">visit</span><span>[</span><span class="word">j</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">j</span><span>]&nbsp;==&nbsp;</span><span class="word">num</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">j</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">visit</span><span>[</span><span class="word">j</span><span>]&nbsp;=&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>從其餘位置當中隨便挑一個位置，直到找到為止、直到無處可尋為止。程式一定結束。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized9.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">randomized_search</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>-</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;從其餘位置當中隨便挑一個位置</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>&nbsp;=&nbsp;</span><span class="word">i</span><span>&nbsp;+&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;(</span><span class="word">n</span><span>&nbsp;-&nbsp;</span><span class="word">i</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">j</span><span>]&nbsp;==&nbsp;</span><span class="word">num</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">j</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;已經找過的數字，挪至前面，永不再找。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">swap</span><span>(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>],&nbsp;</span><span class="word">array</span><span>[</span><span class="word">j</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>綜觀過程，是以一種順序讀取各個數字。因此隨機的計算順序，可以等價交換成隨機的輸入順序、循序的計算順序。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized10.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">randomized_search</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;隨機排列</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">random_shuffle</span><span>(</span><span class="word">array</span><span>,&nbsp;</span><span class="word">array</span><span>+</span><span class="word">n</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;循序搜尋</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;==&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">randomized_search</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>,&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;額外建立索引值、指標，避免改變陣列內容。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">index</span><span>[</span><span class="word">n</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">index</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">i</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;隨機的計算順序</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">random_shuffle</span><span>(</span><span class="word">index</span><span>,&nbsp;</span><span class="word">index</span><span>+</span><span class="word">n</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">index</span><span>[</span><span class="word">i</span><span>]]&nbsp;==&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">i</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;-</span><span class="value">1</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>搜尋次數的期望值是 (n+1)/2 。</p>
<pre>正確數字在每個位置的出現機率都一樣多，都是1/n。
正確數字出現在第1個位置，讀取第1個數字就能找到。
正確數字出現在第i個位置，讀取第i個數字才能找到。
  (1/n) × 1 + (1/n) × 2 + ... + (1/n) × n
= (1/n) × (1 + ... + n)
= (1/n) × (1+n)n/2
= (1+n)/2
</pre>
<p class="t">範例：隨機化排序法（ Randomized Sort ）</p>
<p>隨便挑兩個位置，若數字順序不對則交換，直到無處可尋為止。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized11.png">
<p>交換次數的期望值是多少呢？</p>
<p>只挑相鄰位置，期望值會比較少嗎？</p>
<p>儘管缺乏實用價值，但是如果你會分析，麻煩教我。</p>
<p class="t">範例：矩陣乘法驗算（ Matrix Product Verification ）</p>
<p>矩陣乘法，通盤檢查太久，抽樣檢查較快。</p>
<p>第二個矩陣，隨機挑選一個向量來驗算。驗算一次，僥倖通過機率是 (n-1)/n ；驗算 k 次，僥倖通過機率是 (n-k)/n 。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized12.png">
<p>第二個矩陣，隨機挑選多個向量，以向量總和來驗算。驗算一次，僥倖通過機率是 1/2 ；驗算 k 次，僥倖通過機率是 (1/2)ᵏ 。效果好多了。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized13.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">N</span><span>&nbsp;=&nbsp;</span><span class="value">10</span><span>;</span></li><li><span class="keyword">typedef</span><span>&nbsp;</span><span class="type">double</span><span>&nbsp;</span><span class="word">Matrix</span><span>[</span><span class="word">N</span><span>][</span><span class="word">N</span><span>];</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;Freivalds'&nbsp;Algorithm</span></li><li><span class="type">bool</span><span>&nbsp;</span><span class="word">verify_matrix_product</span><span>(</span><span class="word">Matrix</span><span>&nbsp;</span><span class="word">A</span><span>,&nbsp;</span><span class="word">Matrix</span><span>&nbsp;</span><span class="word">B</span><span>,&nbsp;</span><span class="word">Matrix</span><span>&nbsp;</span><span class="word">C</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;驗算5次</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">t</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">t</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">t</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;第二個矩陣，隨機挑選多個向量。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;0是沒選中，1是選中。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">column</span><span>[</span><span class="word">N</span><span>]&nbsp;=&nbsp;{};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;++</span><span class="word">i</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">column</span><span>[</span><span class="word">i</span><span>]&nbsp;=&nbsp;</span><span class="word">rand</span><span>()&nbsp;%&nbsp;</span><span class="value">2</span><span>;</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以向量總和來驗算</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;逐次檢查各個元素</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">double</span><span>&nbsp;</span><span class="word">sumAB</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>,&nbsp;</span><span class="word">sumC</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">column</span><span>[</span><span class="word">j</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">k</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">k</span><span>&lt;</span><span class="word">N</span><span>;&nbsp;</span><span class="word">k</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sumAB</span><span>&nbsp;+=&nbsp;</span><span class="word">A</span><span>[</span><span class="word">i</span><span>][</span><span class="word">k</span><span>]&nbsp;*&nbsp;</span><span class="word">B</span><span>[</span><span class="word">k</span><span>][</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sumC</span><span>&nbsp;+=&nbsp;</span><span class="word">C</span><span>[</span><span class="word">i</span><span>][</span><span class="word">j</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">sumAB</span><span>&nbsp;!=&nbsp;</span><span class="word">sumC</span><span>)&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">false</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="keyword">true</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：集合相似度（ Set Similarity ）</p>
<p>此處將集合相似度設為交聯比：交集大小除以聯集大小。</p>
<p>交集與聯集，通盤計算需額外記憶體，抽樣計算以節省記憶體。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized14.png">
<p>集合有兩種資料結構：循序儲存、索引儲存。</p>
<p>如果是循序儲存，隨機挑選一個數字，判斷是不是交集元素、聯集元素。大量抽樣，統計比例。累計越多次，答案越準確。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized15.png">
<p>陣列還可以改成雜湊表，節省搜尋時間。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">const</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">range</span><span>&nbsp;=&nbsp;</span><span class="value">10</span><span>;</span></li><li>&nbsp;</li><li><span class="type">double</span><span>&nbsp;</span><span class="word">set_similarity</span><span>(</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&amp;&nbsp;</span><span class="word">A</span><span>[</span><span class="word">range</span><span>],</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&amp;&nbsp;</span><span class="word">B</span><span>[</span><span class="word">range</span><span>])</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;交集大小</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;聯集大小</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;抽樣5次</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>&nbsp;=&nbsp;</span><span class="word">rand</span><span>();</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">inA</span><span>&nbsp;=&nbsp;</span><span class="word">find_number</span><span>(</span><span class="word">A</span><span>,&nbsp;</span><span class="word">x</span><span>);&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;搜尋雜湊表</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">inB</span><span>&nbsp;=&nbsp;</span><span class="word">find_number</span><span>(</span><span class="word">B</span><span>,&nbsp;</span><span class="word">x</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">inA</span><span>&nbsp;&amp;&amp;&nbsp;</span><span class="word">inB</span><span>)&nbsp;</span><span class="word">c</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">inA</span><span>&nbsp;||&nbsp;</span><span class="word">inB</span><span>)&nbsp;</span><span class="word">d</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;(</span><span class="type">double</span><span>)</span><span class="word">c</span><span>&nbsp;/&nbsp;</span><span class="word">d</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>如果是索引儲存，隨機抽樣改成隨機排列，然後挑選首個標記位置來比對。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized16.png">
<p>隨機排列還可以改成雜湊函數，節省排列時間。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;MinHash</span></li><li><span class="type">double</span><span>&nbsp;</span><span class="word">set_similarity</span><span>(</span><span class="type">bool</span><span>&nbsp;</span><span class="word">A</span><span>[],&nbsp;</span><span class="type">bool</span><span>&nbsp;</span><span class="word">B</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">range</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;交集大小</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">d</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;聯集大小（和抽樣次數一樣，其實可以省略。）</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">5</span><span>;&nbsp;</span><span class="word">i</span><span>++)&nbsp;</span><span class="comment">//&nbsp;抽樣5次</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;創造新的雜湊函數（此處沒有實作，這是虛擬碼。）</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;(*</span><span class="word">hash</span><span>)(</span><span class="type">int</span><span>,</span><span class="type">int</span><span>)&nbsp;=&nbsp;</span><span class="word">new_hash_function</span><span>();</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">headA</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">range</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">A</span><span>[</span><span class="word">j</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">headA</span><span>&nbsp;=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">headA</span><span>,&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">j</span><span>,&nbsp;</span><span class="word">range</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">headB</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">j</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">j</span><span>&lt;</span><span class="word">range</span><span>;&nbsp;</span><span class="word">j</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">B</span><span>[</span><span class="word">j</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">headB</span><span>&nbsp;=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">headB</span><span>,&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">j</span><span>,&nbsp;</span><span class="word">range</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">headA</span><span>&nbsp;==&nbsp;</span><span class="word">headB</span><span>)&nbsp;</span><span class="word">c</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">d</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;(</span><span class="type">double</span><span>)</span><span class="word">c</span><span>&nbsp;/&nbsp;</span><span class="word">d</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：快速排序法（ Quicksort ）</p>
<p>挑選一個數字當作基準，所有數字分成大的一邊和小的一邊，遞迴下去。</p>
<p>無論挑選哪一個數字當作基準，最終都會得到正確結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized17.png">
<p>然而，隨機挑選基準，不是最好的方式。挑選中位數當作基準，讓數字對半分，讓遞迴次數最少，才是最好的方式。</p>
<p>中位數無法預測。實務上是將陣列三等份，以三個中央數的中位數當作基準。因為上一層遞迴已經數字分成兩邊、大致排序過了，所以這種方式更容易接近中位數。</p>
<p class="t">範例：平面上距離最近的兩個點（ Closest Pair ）</p>
<p>挑選一個點對距離當作方格寬度，建立方格紙。最近點對只會在相同方格、相鄰方格。窮舉田字，窮舉田字裡面所有點對，取距離最小者。</p>
<p>無論挑選哪一個距離當作寬度，最終都會得到正確結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized18.png">
<p>然而，隨機挑選距離，不是最好的方式。實務上是挑選最近距離三倍以下的距離當作方格寬度。做法請參考：</p>
<p><a href="https://www.cs.cmu.edu/~ckingsf/class/02713/lectures/lec31-random.pdf">https://www.cs.cmu.edu/~ckingsf/class/02713/lectures/lec31-random.pdf</a></p>
<p class="t">範例：最小包圍圓（ Smallest Enclosing Circle ）</p>
<p>包圍所有點的圓，越小越好。做法請參考：</p>
<p><a href="http://www.cs.uu.nl/docs/vakken/ga/slides4b.pdf">http://www.cs.uu.nl/docs/vakken/ga/slides4b.pdf</a></p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized19.png">
<p>以遞增法求最小包圍圓，逐次添加一點，並且調整最小包圍圓。若新點在圓內，不做任何事；若新點在圓外，則新點一定在新圓上，但是本來的點就不一定在新圓上了。於是得到新問題：已知一點在圓上，求最小包圍圓。接著又得到新問題：已知兩點在圓上，求最小包圍圓。已知兩點時，以枚舉法掃描所有點，找到最遠的點。</p>
<p>添加一點的時間複雜度分成兩種情況：圓不變、圓變動。因為無法預測變動，所以窮舉各種結果、反推變動機率。各種結果是新圓上有兩點、有三點。現有 i 點、已知一點在圓上，因此新點導致新圓的機率是 (2-1)/i 、 (3-1)/i 。添加一點的平均時間複雜度是 O(1) ，添加 N 點的平均時間複雜度是 O(N) 。原始問題以此類推，平均時間複雜度是 O(N) 。</p>
<p class="t">Streaming Algorithm</p>
<p>現在是資訊爆炸的年代，資料不斷增加。「串流演算法」就是處理源源不絕的輸入資料。大家關注的有：</p>
<pre>online：隨時處理資料，甚至隨時計算正確答案。
one-pass：只讀取一次資料，盡量計算正確答案。
memory-bounded：資料無法盡數儲存，盡量計算正確答案。
</pre>
<p class="t">範例：統計數字數量</p>
<p>先排序，再統計。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming1.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">histogram</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">array</span><span>,&nbsp;</span><span class="word">array</span><span>+</span><span class="word">n</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;!=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>-</span><span class="value">1</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出統計結果</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>-</span><span class="value">1</span><span>]&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;重新計數</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;印出統計結果</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">n</span><span>-</span><span class="value">1</span><span>]&nbsp;&lt;&lt;&nbsp;</span><span class="char">':'</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="char">'\n'</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>變成串流。建立陣列，根據數值大小，累計至對應位置。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming2.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">histogram</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">1000000</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">num</span><span>]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">num</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>減少記憶體。格子少於數值範圍，只好使用雜湊函數。相異數字可能存入相同格子，無法精確統計。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming3.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">histogram</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;{};&nbsp;</span><span class="comment">//&nbsp;統計表格，範圍0到9。</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以雜湊函數決定累計位置。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">num</span><span>,&nbsp;</span><span class="value">10</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">h</span><span>]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">h</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>建立多個統計表格，使用不同雜湊函數，分散風險。推定最小值為統計結果。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming4.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">hash1</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">num</span><span>&nbsp;%&nbsp;</span><span class="value">10</span><span>;}</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">hash2</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">num</span><span>&nbsp;%&nbsp;</span><span class="value">9</span><span>;}</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">hash3</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>)&nbsp;{</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">num</span><span>&nbsp;*&nbsp;</span><span class="word">num</span><span>&nbsp;%&nbsp;</span><span class="value">10</span><span>;}</span></li><li>&nbsp;</li><li><span class="comment">//&nbsp;Count-Min&nbsp;Sketch</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">histogram</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;3個統計表格</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">3</span><span>][</span><span class="value">10</span><span>]&nbsp;=&nbsp;{};</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;3種雜湊函數</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;(*</span><span class="word">hash</span><span>[</span><span class="value">3</span><span>])(</span><span class="type">int</span><span>)&nbsp;=&nbsp;{</span><span class="word">hash1</span><span>,&nbsp;</span><span class="word">hash2</span><span>,&nbsp;</span><span class="word">hash3</span><span>};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">count_min</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">3</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以雜湊函數決定累計位置，分散風險。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>[</span><span class="word">i</span><span>](</span><span class="word">num</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">i</span><span>][</span><span class="word">h</span><span>]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;取最小值</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">count_min</span><span>&nbsp;=&nbsp;</span><span class="word">min</span><span>(</span><span class="word">count_min</span><span>,&nbsp;</span><span class="word">c</span><span>[</span><span class="word">i</span><span>][</span><span class="word">h</span><span>]);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">count_min</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：相異數字個數</p>
<p>先排序，再統計。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming5.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">count_distinct</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">sort</span><span>(</span><span class="word">array</span><span>,&nbsp;</span><span class="word">array</span><span>+</span><span class="word">n</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">n</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>)&nbsp;</span><span class="word">x</span><span>&nbsp;=&nbsp;</span><span class="value">1</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">1</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;!=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>-</span><span class="value">1</span><span>])</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">x</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">x</span><span>;</span></li><li><span>}</span></li></ol></div>
<p>變成串流。建立陣列，根據數值大小，累計至對應位置。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_distinct</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">1000000</span><span>]&nbsp;=&nbsp;{};</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">x</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(!</span><span class="word">c</span><span>[</span><span class="word">num</span><span>])&nbsp;</span><span class="word">x</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">num</span><span>]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">x</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>減少記憶體。格子少於數值範圍，只好使用雜湊函數。相異數字可能存入相同格子，無法精確統計。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_distinct</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">c</span><span>[</span><span class="value">10</span><span>]&nbsp;=&nbsp;{};&nbsp;</span><span class="comment">//&nbsp;統計表格，範圍0到9。</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;以雜湊函數決定累計位置。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">num</span><span>,&nbsp;</span><span class="value">10</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(!</span><span class="word">c</span><span>[</span><span class="word">h</span><span>])&nbsp;</span><span class="word">x</span><span>++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">c</span><span>[</span><span class="word">h</span><span>]++;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">x</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>再減少記憶體。建立二進位數值當作答案。每讀一個數字，最低位第 1 位改成 1 的機率是 1/2 ，第 i 位改成 1 的機率是 1/2ⁱ 。推定低位數連續的 1 再加一是答案。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_distinct</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">mask</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="value">32</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">rand</span><span>()&nbsp;%&nbsp;(</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>)&nbsp;&lt;&nbsp;</span><span class="value">1</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">mask</span><span>&nbsp;|=&nbsp;(</span><span class="value">1</span><span class="word">U</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">lsb0</span><span>&nbsp;=&nbsp;</span><span class="word">__builtin_ctz</span><span>(</span><span class="word">mask</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span class="word">U</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;(</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">lsb0</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;Flajolet-Martin&nbsp;Sketch</span></li><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">count_distinct</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">unsigned</span><span>&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">mask</span><span>&nbsp;=&nbsp;</span><span class="value">0</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">while</span><span>&nbsp;(</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;簡化成每次只修改一個位數。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;數尾端有多少個零，修改對應位數。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">h</span><span>&nbsp;=&nbsp;</span><span class="word">hash</span><span>(</span><span class="word">num</span><span>,&nbsp;</span><span class="value">32</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>&nbsp;=&nbsp;(</span><span class="word">h</span><span>&nbsp;&gt;&nbsp;</span><span class="value">0</span><span>&nbsp;?&nbsp;</span><span class="word">__builtin_ctz</span><span>(</span><span class="word">h</span><span>)&nbsp;:&nbsp;</span><span class="value">32</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">mask</span><span>&nbsp;|=&nbsp;(</span><span class="value">1</span><span class="word">U</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">i</span><span>);</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="comment">//&nbsp;經實驗發現除以0.77351效果很好。</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">lsb0</span><span>&nbsp;=&nbsp;</span><span class="word">__builtin_ctz</span><span>(</span><span class="word">mask</span><span>&nbsp;+&nbsp;</span><span class="value">1</span><span class="word">U</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">floor</span><span>(</span><span class="type">double</span><span>(</span><span class="value">1</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">lsb0</span><span>)&nbsp;/&nbsp;</span><span class="value">0.77351</span><span>));</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：尋找陣列裡的最小值</p>
<p>趁早找到最小值，不想看遍全部數字。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming6.png">
<p>前 n/e 個，記錄最小值。第 n/e + 1 個以後，如果小於最小值，就推定為答案。</p>
<p>實際應用：找伴侶、買水果、炒短線。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment">//&nbsp;Gilbert-Mosteller&nbsp;Strategy</span></li><li><span class="type">int</span><span>&nbsp;</span><span class="word">find_minimum</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">k</span><span>&nbsp;=&nbsp;</span><span class="word">floor</span><span>((</span><span class="type">double</span><span>)</span><span class="word">n</span><span>&nbsp;/&nbsp;</span><span class="word">exp</span><span>(</span><span class="value">1</span><span>));</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="value">2147483647</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">k</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">min</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">min</span><span>&nbsp;=&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="word">k</span><span>;&nbsp;</span><span class="word">i</span><span>&lt;</span><span class="word">n</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">if</span><span>&nbsp;(</span><span class="word">array</span><span>[</span><span class="word">i</span><span>]&nbsp;&lt;&nbsp;</span><span class="word">min</span><span>)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="word">i</span><span>];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">min</span><span>;</span></li><li><span>}</span></li></ol></div>
<p class="t">範例：隨機抽樣（ Random Sampling ）</p>
<p>隨機挑選一物，機率均等。</p>
<img src="./Algorithm Notes - Algorithm Design_files/Streaming7.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="type">int</span><span>&nbsp;</span><span class="word">random_sampling</span><span>(</span><span class="type">int</span><span>&nbsp;</span><span class="word">array</span><span>[],&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">n</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">srand</span><span>(</span><span class="word">time</span><span>(</span><span class="value">0</span><span>));</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">return</span><span>&nbsp;</span><span class="word">array</span><span>[</span><span class="word">rand</span><span>()&nbsp;%&nbsp;</span><span class="word">n</span><span>];</span></li><li><span>}</span></li></ol></div>
<p>變成串流。使用動態陣列。</p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="keyword">void</span><span>&nbsp;</span><span class="word">random_sampling</span><span>(</span><span class="word">istream</span><span>&amp;&nbsp;</span><span class="word">in</span><span>)</span></li><li><span>{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">vector</span><span>&lt;</span><span class="type">int</span><span>&gt;&nbsp;</span><span class="word">array</span><span>;&nbsp;&nbsp;</span><span class="comment">//&nbsp;動態陣列</span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type">int</span><span>&nbsp;</span><span class="word">num</span><span>;</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword">for</span><span>&nbsp;(</span><span class="type">int</span><span>&nbsp;</span><span class="word">i</span><span>=</span><span class="value">0</span><span>;&nbsp;</span><span class="word">in</span><span>&nbsp;&gt;&gt;&nbsp;</span><span class="word">num</span><span>;&nbsp;</span><span class="word">i</span><span>++)</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;{</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">array</span><span>.</span><span class="word">push_back</span><span>(</span><span class="word">num</span><span>);</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word">cout</span><span>&nbsp;&lt;&lt;&nbsp;</span><span class="word">array</span><span>[</span><span class="word">rand</span><span>()&nbsp;%&nbsp;(</span><span class="word">i</span><span>+</span><span class="value">1</span><span>)];</span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></li><li><span>}</span></li></ol></div>
<p>節省記憶體，只需儲存一物。從 1 開始編號，遭遇第 i 物時，儲存機率 1/i ，捨棄機率 1 - 1/i 。</p>
<p>最終得到第 i 物的條件是：保留第 i 物，捨棄第 i+1 物到第 n 物。機率恰是 1/n ：</p>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   1 1 1 1 </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  ——— × ( 1 - ——— ) × ( 1 - ——— ) × ... × ( 1 - ——— ) </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   i i+1 i+2 n </font></font>
<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   1 i i+1 n- 1 1 </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
= ——— × ——— × ——— × ... × ——— = ——— </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   i i+1 i+2 nn</font></font>
</pre>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The probability of each item is finally obtained, and the derivation process is the same. The probability is 1/n.</font></font></p>
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Reservoir Sampling</font></font></span></li><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">random_sampling </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="word"><font style="vertical-align: inherit;">istream </font></span><span><font style="vertical-align: inherit;">&amp;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">in </font></span><span><font style="vertical-align: inherit;">)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srand </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">));</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">result </font></span><span><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">num </font></span><span><font style="vertical-align: inherit;">;</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">in </font></span><span><font style="vertical-align: inherit;">&nbsp;&gt;&gt;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">num </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rand </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">() % ( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) &lt;&nbsp; </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Result </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;=&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">num </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cout </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&lt;&lt;&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">result </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;&nbsp;&nbsp;&nbsp;}</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p class="t"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Example: Random Shuffle</font></font></p>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When encountering the i-th object, the i-th object is opposite to the one on the back.</font></font></p>
<img src="./Algorithm Notes - Algorithm Design_files/Randomized7.png">
<div class="sh"><div class="bar">&nbsp;</div><ol><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Generate a random integer of [0,x).</font></font></span></li><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inline </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">rand </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">) { </font></span><span class="keyword"><font style="vertical-align: inherit;">return </font></span><span class="word"><font style="vertical-align: inherit;">rand </font></span><span><font style="vertical-align: inherit;">() %&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">;}</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="keyword"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Generates a random integer of [x,y).</font></font></span></li><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inline </font></font></span><font style="vertical-align: inherit;"><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">rand </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">,&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">y </font></span><span><font style="vertical-align: inherit;">) { </font></span><span class="keyword"><font style="vertical-align: inherit;">return </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">&nbsp;+&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">rand </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="word"><font style="vertical-align: inherit;">y </font></span><span><font style="vertical-align: inherit;">&nbsp;-&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">x </font></span><span><font style="vertical-align: inherit;">);}</font></span></font><span>&nbsp;</span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="keyword"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li>&nbsp;</li><li><span class="comment"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Fisher-Yates Shuffle</font></font></span></li><li><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Void </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">random_shuffle </font></span><span><font style="vertical-align: inherit;">( </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">array </font></span><span><font style="vertical-align: inherit;">[],&nbsp; </font></span><span class="type"><font style="vertical-align: inherit;">int </font></span><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="type"><font style="vertical-align: inherit;"></font></span><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Srand </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">time </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="value"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">));</font></font></span></li><li>&nbsp;</li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="keyword"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;( </font></font></span><span class="type"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int </font></font></span><font style="vertical-align: inherit;"><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">= </font></span><span class="value"><font style="vertical-align: inherit;">0 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">&lt; </font></span><span class="word"><font style="vertical-align: inherit;">n </font></span><span><font style="vertical-align: inherit;">- </font></span><span class="value"><font style="vertical-align: inherit;">1 </font></span><span><font style="vertical-align: inherit;">;&nbsp; </font></span><span class="word"><font style="vertical-align: inherit;">i </font></span><span><font style="vertical-align: inherit;">++)</font></span></font><span>&nbsp;</span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="value"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span><span class="word"><font style="vertical-align: inherit;"></font></span><span><font style="vertical-align: inherit;"></font></span></li><li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swap </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">],&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">array </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rand </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,&nbsp; </font></font></span><span class="word"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n </font></font></span><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)]);</font></font></span></li><li><span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></li></ol></div>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Random shuffle can stream it? </font><font style="vertical-align: inherit;">I do not know either. </font><font style="vertical-align: inherit;">Oh casually.</font></font></p>
</div></div><script src="./Algorithm Notes - Algorithm Design_files/h.js.download"></script><div class="m"><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/index.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">◀ Index</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incremental Method</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memoization</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enumeration</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iterative Method</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursive Method</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#6"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Greedy Method</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divide and Conquer</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#8"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scaling Algorithm</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#9"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">External Memory Algorithm</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parallel Algorithm </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Under Construction!)</font></font></a></div><div class="li"><a href="http://www.csie.ntnu.edu.tw/~u91029/AlgorithmDesign.html#11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Randomized Algorithm</font></font></a></div></div><menu type="context" id="fractal.menu"><menuitem label="Show Me The Code" name="fractal"></menuitem></menu><div class="back1"></div><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="./Algorithm Notes - Algorithm Design_files/translate_24dp.png" width="20" height="20" alt="Google Translate"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">Original text</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">Contribute a better translation</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div><div class="back2"></div><div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div></body></html>